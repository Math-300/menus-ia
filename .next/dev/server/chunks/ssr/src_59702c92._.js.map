{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///c:/Users/ASUS/OneDrive/Documentos/Men%C3%BAs%20IA/src/hooks/useStories.ts"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useCallback, useEffect } from 'react';\r\n\r\nexport interface Story {\r\n    id: string;\r\n    tenant_id: string;\r\n    title: string;\r\n    type: 'dish' | 'promo' | 'chef' | 'event';\r\n    image_url: string | null;\r\n    video_url: string | null;\r\n    linked_dish_id: string | null;\r\n    is_active: boolean;\r\n    expires_at: string | null;\r\n    view_count: number;\r\n    display_order: number;\r\n    created_at: string;\r\n    updated_at: string;\r\n    dishes?: {\r\n        id: string;\r\n        name: string;\r\n        price: number;\r\n        image_url: string | null;\r\n    } | null;\r\n}\r\n\r\nexport interface StoryFormData {\r\n    title: string;\r\n    type: 'dish' | 'promo' | 'chef' | 'event';\r\n    image_url?: string | null;\r\n    video_url?: string | null;\r\n    linked_dish_id?: string | null;\r\n    is_active?: boolean;\r\n    expires_at?: string | null;\r\n    display_order?: number;\r\n}\r\n\r\ninterface UseStoriesReturn {\r\n    stories: Story[];\r\n    loading: boolean;\r\n    error: string | null;\r\n    fetchStories: (filters?: { type?: string; is_active?: boolean }) => Promise<void>;\r\n    createStory: (data: StoryFormData) => Promise<Story | null>;\r\n    updateStory: (id: string, data: Partial<StoryFormData>) => Promise<Story | null>;\r\n    deleteStory: (id: string) => Promise<boolean>;\r\n    getStory: (id: string) => Promise<Story | null>;\r\n    reorderStories: (storyIds: string[]) => Promise<boolean>;\r\n}\r\n\r\nexport function useStories(): UseStoriesReturn {\r\n    const [stories, setStories] = useState<Story[]>([]);\r\n    const [loading, setLoading] = useState(false);\r\n    const [error, setError] = useState<string | null>(null);\r\n\r\n    const fetchStories = useCallback(async (filters?: { type?: string; is_active?: boolean }) => {\r\n        setLoading(true);\r\n        setError(null);\r\n        try {\r\n            const params = new URLSearchParams();\r\n            if (filters?.type) {\r\n                params.append('type', filters.type);\r\n            }\r\n            if (filters?.is_active !== undefined) {\r\n                params.append('is_active', String(filters.is_active));\r\n            }\r\n            const queryString = params.toString();\r\n            const url = `/api/admin/stories${queryString ? `?${queryString}` : ''}`;\r\n\r\n            const response = await fetch(url);\r\n            if (!response.ok) {\r\n                const data = await response.json();\r\n                throw new Error(data.error || 'Error al obtener stories');\r\n            }\r\n            const data = await response.json();\r\n            setStories(data.stories || []);\r\n        } catch (err) {\r\n            setError(err instanceof Error ? err.message : 'Error desconocido');\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    }, []);\r\n\r\n    const createStory = useCallback(async (formData: StoryFormData): Promise<Story | null> => {\r\n        setLoading(true);\r\n        setError(null);\r\n        try {\r\n            const response = await fetch('/api/admin/stories', {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify(formData),\r\n            });\r\n            if (!response.ok) {\r\n                const data = await response.json();\r\n                throw new Error(data.error || 'Error al crear story');\r\n            }\r\n            const data = await response.json();\r\n            const newStory = data.story;\r\n            setStories(prev => [...prev, newStory]);\r\n            return newStory;\r\n        } catch (err) {\r\n            setError(err instanceof Error ? err.message : 'Error desconocido');\r\n            return null;\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    }, []);\r\n\r\n    const updateStory = useCallback(async (id: string, formData: Partial<StoryFormData>): Promise<Story | null> => {\r\n        setLoading(true);\r\n        setError(null);\r\n        try {\r\n            const response = await fetch(`/api/admin/stories/${id}`, {\r\n                method: 'PUT',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify(formData),\r\n            });\r\n            if (!response.ok) {\r\n                const data = await response.json();\r\n                throw new Error(data.error || 'Error al actualizar story');\r\n            }\r\n            const data = await response.json();\r\n            const updatedStory = data.story;\r\n            setStories(prev => prev.map(s => s.id === id ? updatedStory : s));\r\n            return updatedStory;\r\n        } catch (err) {\r\n            setError(err instanceof Error ? err.message : 'Error desconocido');\r\n            return null;\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    }, []);\r\n\r\n    const deleteStory = useCallback(async (id: string): Promise<boolean> => {\r\n        setLoading(true);\r\n        setError(null);\r\n        try {\r\n            const response = await fetch(`/api/admin/stories/${id}`, {\r\n                method: 'DELETE',\r\n            });\r\n            if (!response.ok) {\r\n                const data = await response.json();\r\n                throw new Error(data.error || 'Error al eliminar story');\r\n            }\r\n            setStories(prev => prev.filter(s => s.id !== id));\r\n            return true;\r\n        } catch (err) {\r\n            setError(err instanceof Error ? err.message : 'Error desconocido');\r\n            return false;\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    }, []);\r\n\r\n    const getStory = useCallback(async (id: string): Promise<Story | null> => {\r\n        setLoading(true);\r\n        setError(null);\r\n        try {\r\n            const response = await fetch(`/api/admin/stories/${id}`);\r\n            if (!response.ok) {\r\n                const data = await response.json();\r\n                throw new Error(data.error || 'Error al obtener story');\r\n            }\r\n            const data = await response.json();\r\n            return data.story;\r\n        } catch (err) {\r\n            setError(err instanceof Error ? err.message : 'Error desconocido');\r\n            return null;\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    }, []);\r\n\r\n    const reorderStories = useCallback(async (storyIds: string[]): Promise<boolean> => {\r\n        setLoading(true);\r\n        setError(null);\r\n        try {\r\n            const response = await fetch('/api/admin/stories', {\r\n                method: 'PATCH',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify({ storyIds }),\r\n            });\r\n            if (!response.ok) {\r\n                const data = await response.json();\r\n                throw new Error(data.error || 'Error al reordenar stories');\r\n            }\r\n            // Update local state with new order\r\n            setStories(prev => {\r\n                const storyMap = new Map(prev.map(s => [s.id, s]));\r\n                return storyIds\r\n                    .map(id => storyMap.get(id))\r\n                    .filter((s): s is Story => s !== undefined);\r\n            });\r\n            return true;\r\n        } catch (err) {\r\n            setError(err instanceof Error ? err.message : 'Error desconocido');\r\n            return false;\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    }, []);\r\n\r\n    // Auto-fetch on mount\r\n    useEffect(() => {\r\n        fetchStories();\r\n    }, [fetchStories]);\r\n\r\n    return {\r\n        stories,\r\n        loading,\r\n        error,\r\n        fetchStories,\r\n        createStory,\r\n        updateStory,\r\n        deleteStory,\r\n        getStory,\r\n        reorderStories,\r\n    };\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 189, "column": 0}, "map": {"version":3,"sources":["file:///c:/Users/ASUS/OneDrive/Documentos/Men%C3%BAs%20IA/src/hooks/useDishes.ts"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useCallback, useEffect } from 'react';\r\n\r\nexport interface DishOption {\r\n    id: string;\r\n    name: string;\r\n    price: number;\r\n    available: boolean;\r\n}\r\n\r\nexport interface DishOptionGroup {\r\n    id: string;\r\n    name: string;\r\n    min_selections: number;\r\n    max_selections: number;\r\n    display_order: number;\r\n    dish_options: DishOption[];\r\n}\r\n\r\nexport interface Dish {\r\n    id: string;\r\n    tenant_id: string;\r\n    name: string;\r\n    description: string | null;\r\n    price: number;\r\n    image_url: string | null;\r\n    category_id: string | null;\r\n    available: boolean;\r\n    dietary: string[];\r\n    is_popular: boolean;\r\n    is_chef_choice: boolean;\r\n    is_new: boolean;\r\n    created_at: string;\r\n    updated_at: string;\r\n    categories?: { id: string; name: string; slug: string } | null;\r\n    dish_option_groups?: DishOptionGroup[];\r\n}\r\n\r\nexport interface DishFormData {\r\n    name: string;\r\n    description?: string | null;\r\n    price: number;\r\n    image_url?: string | null;\r\n    category_id?: string | null;\r\n    available?: boolean;\r\n    dietary?: string[];\r\n    is_popular?: boolean;\r\n    is_chef_choice?: boolean;\r\n    is_new?: boolean;\r\n}\r\n\r\ninterface UseDishesReturn {\r\n    dishes: Dish[];\r\n    loading: boolean;\r\n    error: string | null;\r\n    fetchDishes: (filters?: { category_id?: string; available?: boolean }) => Promise<void>;\r\n    createDish: (data: DishFormData) => Promise<Dish | null>;\r\n    updateDish: (id: string, data: Partial<DishFormData>) => Promise<Dish | null>;\r\n    deleteDish: (id: string) => Promise<boolean>;\r\n    getDish: (id: string) => Promise<Dish | null>;\r\n}\r\n\r\nexport function useDishes(): UseDishesReturn {\r\n    const [dishes, setDishes] = useState<Dish[]>([]);\r\n    const [loading, setLoading] = useState(false);\r\n    const [error, setError] = useState<string | null>(null);\r\n\r\n    const fetchDishes = useCallback(async (filters?: { category_id?: string; available?: boolean }) => {\r\n        setLoading(true);\r\n        setError(null);\r\n        try {\r\n            const params = new URLSearchParams();\r\n            if (filters?.category_id) {\r\n                params.append('category_id', filters.category_id);\r\n            }\r\n            if (filters?.available !== undefined) {\r\n                params.append('available', String(filters.available));\r\n            }\r\n            const queryString = params.toString();\r\n            const url = `/api/admin/dishes${queryString ? `?${queryString}` : ''}`;\r\n\r\n            const response = await fetch(url);\r\n            if (!response.ok) {\r\n                const data = await response.json();\r\n                throw new Error(data.error || 'Error al obtener platos');\r\n            }\r\n            const data = await response.json();\r\n            setDishes(data.dishes || []);\r\n        } catch (err) {\r\n            setError(err instanceof Error ? err.message : 'Error desconocido');\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    }, []);\r\n\r\n    const createDish = useCallback(async (formData: DishFormData): Promise<Dish | null> => {\r\n        setLoading(true);\r\n        setError(null);\r\n        try {\r\n            const response = await fetch('/api/admin/dishes', {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify(formData),\r\n            });\r\n            if (!response.ok) {\r\n                const data = await response.json();\r\n                throw new Error(data.error || 'Error al crear plato');\r\n            }\r\n            const data = await response.json();\r\n            const newDish = data.dish;\r\n            setDishes(prev => [...prev, newDish]);\r\n            return newDish;\r\n        } catch (err) {\r\n            setError(err instanceof Error ? err.message : 'Error desconocido');\r\n            return null;\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    }, []);\r\n\r\n    const updateDish = useCallback(async (id: string, formData: Partial<DishFormData>): Promise<Dish | null> => {\r\n        setLoading(true);\r\n        setError(null);\r\n        try {\r\n            const response = await fetch(`/api/admin/dishes/${id}`, {\r\n                method: 'PUT',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify(formData),\r\n            });\r\n            if (!response.ok) {\r\n                const data = await response.json();\r\n                throw new Error(data.error || 'Error al actualizar plato');\r\n            }\r\n            const data = await response.json();\r\n            const updatedDish = data.dish;\r\n            setDishes(prev => prev.map(d => d.id === id ? updatedDish : d));\r\n            return updatedDish;\r\n        } catch (err) {\r\n            setError(err instanceof Error ? err.message : 'Error desconocido');\r\n            return null;\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    }, []);\r\n\r\n    const deleteDish = useCallback(async (id: string): Promise<boolean> => {\r\n        setLoading(true);\r\n        setError(null);\r\n        try {\r\n            const response = await fetch(`/api/admin/dishes/${id}`, {\r\n                method: 'DELETE',\r\n            });\r\n            if (!response.ok) {\r\n                const data = await response.json();\r\n                throw new Error(data.error || 'Error al eliminar plato');\r\n            }\r\n            setDishes(prev => prev.filter(d => d.id !== id));\r\n            return true;\r\n        } catch (err) {\r\n            setError(err instanceof Error ? err.message : 'Error desconocido');\r\n            return false;\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    }, []);\r\n\r\n    const getDish = useCallback(async (id: string): Promise<Dish | null> => {\r\n        setLoading(true);\r\n        setError(null);\r\n        try {\r\n            const response = await fetch(`/api/admin/dishes/${id}`);\r\n            if (!response.ok) {\r\n                const data = await response.json();\r\n                throw new Error(data.error || 'Error al obtener plato');\r\n            }\r\n            const data = await response.json();\r\n            return data.dish;\r\n        } catch (err) {\r\n            setError(err instanceof Error ? err.message : 'Error desconocido');\r\n            return null;\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    }, []);\r\n\r\n    // Auto-fetch on mount\r\n    useEffect(() => {\r\n        fetchDishes();\r\n    }, [fetchDishes]);\r\n\r\n    return {\r\n        dishes,\r\n        loading,\r\n        error,\r\n        fetchDishes,\r\n        createDish,\r\n        updateDish,\r\n        deleteDish,\r\n        getDish,\r\n    };\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 340, "column": 0}, "map": {"version":3,"sources":["file:///c:/Users/ASUS/OneDrive/Documentos/Men%C3%BAs%20IA/src/components/ui/Modal.tsx"],"sourcesContent":["'use client';\n\nimport React, { useEffect, useRef } from 'react';\nimport { X } from 'lucide-react';\n\ninterface ModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  children: React.ReactNode;\n  title?: string;\n  variant?: 'default' | 'immersive';\n}\n\nexport const Modal: React.FC<ModalProps> = ({ isOpen, onClose, children, title, variant = 'default' }) => {\n  const modalRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    const handleOutsideClick = (event: MouseEvent) => {\n      if (modalRef.current && !modalRef.current.contains(event.target as Node)) {\n        onClose();\n      }\n    };\n\n    if (isOpen) {\n      document.addEventListener('mousedown', handleOutsideClick);\n      document.body.style.overflow = 'hidden';\n    }\n\n    return () => {\n      document.removeEventListener('mousedown', handleOutsideClick);\n      document.body.style.overflow = 'unset';\n    };\n  }, [isOpen, onClose]);\n\n  if (!isOpen) return null;\n\n  const isImmersive = variant === 'immersive';\n\n  return (\n    <div className=\"fixed inset-0 z-[60] flex items-end md:items-center justify-center bg-black/80 backdrop-blur-sm p-0 md:p-6 animate-fade-in\">\n      <div\n        ref={modalRef}\n        className={`\n            bg-gray-900/90 backdrop-blur-xl border border-white/10 rounded-t-[2.5rem] md:rounded-[2.5rem] w-full max-w-2xl overflow-hidden shadow-2xl transform transition-all animate-slide-up h-[90vh] md:h-auto md:max-h-[90vh] flex flex-col\n            ${isImmersive ? 'p-0' : 'p-0 md:p-6'} \n        `}\n      >\n        {/* Header */}\n        <div className={`\n            flex justify-between items-center absolute top-0 left-0 right-0 z-20 pointer-events-none\n            ${isImmersive ? 'p-6 bg-gradient-to-b from-black/60 to-transparent' : 'p-6 bg-transparent'}\n        `}>\n          <h3 className=\"text-lg font-serif italic text-white/90 drop-shadow-md\">{title}</h3>\n\n          <button onClick={onClose} className=\"pointer-events-auto p-2.5 bg-black/40 backdrop-blur-md rounded-full border border-white/10 hover:bg-white hover:text-black transition-all text-white shadow-lg group\">\n            <X size={20} className=\"group-hover:rotate-90 transition-transform duration-300\" />\n          </button>\n        </div>\n\n        <div className=\"flex-1 overflow-y-auto overscroll-contain no-scrollbar\">\n          {children}\n        </div>\n      </div>\n    </div>\n  );\n};\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAaO,MAAM,QAA8B,CAAC,EAAE,MAAM,EAAE,OAAO,EAAE,QAAQ,EAAE,KAAK,EAAE,UAAU,SAAS,EAAE;IACnG,MAAM,WAAW,IAAA,+MAAM,EAAiB;IAExC,IAAA,kNAAS,EAAC;QACR,MAAM,qBAAqB,CAAC;YAC1B,IAAI,SAAS,OAAO,IAAI,CAAC,SAAS,OAAO,CAAC,QAAQ,CAAC,MAAM,MAAM,GAAW;gBACxE;YACF;QACF;QAEA,IAAI,QAAQ;YACV,SAAS,gBAAgB,CAAC,aAAa;YACvC,SAAS,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG;QACjC;QAEA,OAAO;YACL,SAAS,mBAAmB,CAAC,aAAa;YAC1C,SAAS,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG;QACjC;IACF,GAAG;QAAC;QAAQ;KAAQ;IAEpB,IAAI,CAAC,QAAQ,OAAO;IAEpB,MAAM,cAAc,YAAY;IAEhC,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YACC,KAAK;YACL,WAAW,CAAC;;YAER,EAAE,cAAc,QAAQ,aAAa;QACzC,CAAC;;8BAGD,8OAAC;oBAAI,WAAW,CAAC;;YAEb,EAAE,cAAc,sDAAsD,qBAAqB;QAC/F,CAAC;;sCACC,8OAAC;4BAAG,WAAU;sCAA0D;;;;;;sCAExE,8OAAC;4BAAO,SAAS;4BAAS,WAAU;sCAClC,cAAA,8OAAC,iMAAC;gCAAC,MAAM;gCAAI,WAAU;;;;;;;;;;;;;;;;;8BAI3B,8OAAC;oBAAI,WAAU;8BACZ;;;;;;;;;;;;;;;;;AAKX"}},
    {"offset": {"line": 442, "column": 0}, "map": {"version":3,"sources":["file:///c:/Users/ASUS/OneDrive/Documentos/Men%C3%BAs%20IA/src/components/admin/StoryForm.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport { X, Upload, Loader2, Image, Video, Calendar, Link2 } from 'lucide-react';\r\nimport { Modal } from '@/components/ui/Modal';\r\nimport type { Story, StoryFormData } from '@/hooks/useStories';\r\nimport type { Dish } from '@/hooks/useDishes';\r\n\r\ninterface StoryFormProps {\r\n    isOpen: boolean;\r\n    onClose: () => void;\r\n    onSubmit: (data: StoryFormData) => Promise<boolean>;\r\n    story?: Story | null;\r\n    dishes: Dish[];\r\n    loading?: boolean;\r\n}\r\n\r\nconst STORY_TYPES = [\r\n    { value: 'dish', label: 'Plato', description: 'Mostrar un plato del menú' },\r\n    { value: 'promo', label: 'Promoción', description: 'Ofertas y descuentos especiales' },\r\n    { value: 'chef', label: 'Chef', description: 'Destacados del chef' },\r\n    { value: 'event', label: 'Evento', description: 'Eventos especiales' },\r\n];\r\n\r\nexport const StoryForm: React.FC<StoryFormProps> = ({\r\n    isOpen,\r\n    onClose,\r\n    onSubmit,\r\n    story,\r\n    dishes,\r\n    loading = false,\r\n}) => {\r\n    const [formData, setFormData] = useState<StoryFormData>({\r\n        title: '',\r\n        type: 'dish',\r\n        image_url: null,\r\n        video_url: null,\r\n        linked_dish_id: null,\r\n        is_active: true,\r\n        expires_at: null,\r\n    });\r\n    const [uploading, setUploading] = useState(false);\r\n    const [uploadType, setUploadType] = useState<'image' | 'video'>('image');\r\n    const [errors, setErrors] = useState<Record<string, string>>({});\r\n\r\n    // Populate form when editing\r\n    useEffect(() => {\r\n        if (story) {\r\n            setFormData({\r\n                title: story.title,\r\n                type: story.type,\r\n                image_url: story.image_url,\r\n                video_url: story.video_url,\r\n                linked_dish_id: story.linked_dish_id,\r\n                is_active: story.is_active,\r\n                expires_at: story.expires_at ? story.expires_at.split('T')[0] : null,\r\n            });\r\n            setUploadType(story.video_url ? 'video' : 'image');\r\n        } else {\r\n            setFormData({\r\n                title: '',\r\n                type: 'dish',\r\n                image_url: null,\r\n                video_url: null,\r\n                linked_dish_id: null,\r\n                is_active: true,\r\n                expires_at: null,\r\n            });\r\n            setUploadType('image');\r\n        }\r\n        setErrors({});\r\n    }, [story, isOpen]);\r\n\r\n    const handleMediaUpload = async (e: React.ChangeEvent<HTMLInputElement>) => {\r\n        const file = e.target.files?.[0];\r\n        if (!file) return;\r\n\r\n        // Determine folder based on file type\r\n        const isVideo = file.type.startsWith('video/');\r\n        const folder = isVideo ? 'menuos/stories/videos' : 'menuos/stories/images';\r\n\r\n        setUploading(true);\r\n        try {\r\n            const uploadFormData = new FormData();\r\n            uploadFormData.append('file', file);\r\n            uploadFormData.append('folder', folder);\r\n\r\n            // For videos, we might want to set different upload options\r\n            if (isVideo) {\r\n                uploadFormData.append('resource_type', 'video');\r\n            }\r\n\r\n            const response = await fetch('/api/upload', {\r\n                method: 'POST',\r\n                body: uploadFormData,\r\n            });\r\n\r\n            if (!response.ok) {\r\n                throw new Error('Error al subir archivo');\r\n            }\r\n\r\n            const data = await response.json();\r\n\r\n            if (isVideo) {\r\n                setFormData(prev => ({\r\n                    ...prev,\r\n                    video_url: data.data.secure_url,\r\n                    image_url: null, // Clear image if video is uploaded\r\n                }));\r\n                setUploadType('video');\r\n            } else {\r\n                setFormData(prev => ({\r\n                    ...prev,\r\n                    image_url: data.data.secure_url,\r\n                    video_url: null, // Clear video if image is uploaded\r\n                }));\r\n                setUploadType('image');\r\n            }\r\n        } catch (error) {\r\n            console.error('Upload error:', error);\r\n            alert('Error al subir el archivo');\r\n        } finally {\r\n            setUploading(false);\r\n        }\r\n    };\r\n\r\n    const validate = (): boolean => {\r\n        const newErrors: Record<string, string> = {};\r\n        if (!formData.title.trim()) {\r\n            newErrors.title = 'El título es requerido';\r\n        }\r\n        if (!formData.image_url && !formData.video_url) {\r\n            newErrors.media = 'Debes subir una imagen o video';\r\n        }\r\n        setErrors(newErrors);\r\n        return Object.keys(newErrors).length === 0;\r\n    };\r\n\r\n    const handleSubmit = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        if (!validate()) return;\r\n\r\n        const success = await onSubmit(formData);\r\n        if (success) {\r\n            onClose();\r\n        }\r\n    };\r\n\r\n    const getMediaPreview = () => {\r\n        if (formData.video_url) {\r\n            return (\r\n                <div className=\"relative w-full aspect-[9/16] rounded-lg overflow-hidden border border-white/10 bg-black\">\r\n                    <video\r\n                        src={formData.video_url}\r\n                        className=\"w-full h-full object-cover\"\r\n                        muted\r\n                        playsInline\r\n                    />\r\n                    <button\r\n                        type=\"button\"\r\n                        onClick={() => setFormData(prev => ({ ...prev, video_url: null }))}\r\n                        className=\"absolute top-2 right-2 p-1.5 bg-red-500 rounded-full hover:bg-red-600 transition-colors\"\r\n                    >\r\n                        <X size={12} className=\"text-white\" />\r\n                    </button>\r\n                    <div className=\"absolute bottom-2 left-2 px-2 py-1 bg-black/50 rounded text-xs text-white flex items-center gap-1\">\r\n                        <Video size={12} />\r\n                        Video\r\n                    </div>\r\n                </div>\r\n            );\r\n        }\r\n\r\n        if (formData.image_url) {\r\n            return (\r\n                <div className=\"relative w-full aspect-[9/16] rounded-lg overflow-hidden border border-white/10\">\r\n                    <img\r\n                        src={formData.image_url}\r\n                        alt=\"Preview\"\r\n                        className=\"w-full h-full object-cover\"\r\n                    />\r\n                    <button\r\n                        type=\"button\"\r\n                        onClick={() => setFormData(prev => ({ ...prev, image_url: null }))}\r\n                        className=\"absolute top-2 right-2 p-1.5 bg-red-500 rounded-full hover:bg-red-600 transition-colors\"\r\n                    >\r\n                        <X size={12} className=\"text-white\" />\r\n                    </button>\r\n                    <div className=\"absolute bottom-2 left-2 px-2 py-1 bg-black/50 rounded text-xs text-white flex items-center gap-1\">\r\n                        <Image size={12} />\r\n                        Imagen\r\n                    </div>\r\n                </div>\r\n            );\r\n        }\r\n\r\n        return null;\r\n    };\r\n\r\n    return (\r\n        <Modal isOpen={isOpen} onClose={onClose} title={story ? 'Editar Story' : 'Nueva Story'}>\r\n            <form onSubmit={handleSubmit} className=\"p-6 space-y-6 max-h-[80vh] overflow-y-auto\">\r\n                {/* Media Upload */}\r\n                <div>\r\n                    <label className=\"block text-sm font-medium text-gray-300 mb-2\">\r\n                        Media (Imagen o Video) *\r\n                    </label>\r\n\r\n                    {!formData.image_url && !formData.video_url ? (\r\n                        <div className=\"space-y-3\">\r\n                            {/* Upload buttons */}\r\n                            <div className=\"flex gap-3\">\r\n                                <label className={`flex-1 flex flex-col items-center justify-center p-6 border-2 border-dashed rounded-lg cursor-pointer transition-colors ${uploadType === 'image'\r\n                                        ? 'border-brand-primary bg-brand-primary/10'\r\n                                        : 'border-white/20 hover:border-white/40'\r\n                                    }`}>\r\n                                    {uploading && uploadType === 'image' ? (\r\n                                        <Loader2 size={32} className=\"text-gray-400 animate-spin\" />\r\n                                    ) : (\r\n                                        <>\r\n                                            <Image size={32} className=\"text-gray-400\" />\r\n                                            <span className=\"text-sm text-gray-400 mt-2\">Subir Imagen</span>\r\n                                            <span className=\"text-xs text-gray-500 mt-1\">9:16 recomendado</span>\r\n                                        </>\r\n                                    )}\r\n                                    <input\r\n                                        type=\"file\"\r\n                                        accept=\"image/*\"\r\n                                        onChange={(e) => {\r\n                                            setUploadType('image');\r\n                                            handleMediaUpload(e);\r\n                                        }}\r\n                                        className=\"hidden\"\r\n                                        disabled={uploading}\r\n                                    />\r\n                                </label>\r\n\r\n                                <label className={`flex-1 flex flex-col items-center justify-center p-6 border-2 border-dashed rounded-lg cursor-pointer transition-colors ${uploadType === 'video'\r\n                                        ? 'border-brand-primary bg-brand-primary/10'\r\n                                        : 'border-white/20 hover:border-white/40'\r\n                                    }`}>\r\n                                    {uploading && uploadType === 'video' ? (\r\n                                        <Loader2 size={32} className=\"text-gray-400 animate-spin\" />\r\n                                    ) : (\r\n                                        <>\r\n                                            <Video size={32} className=\"text-gray-400\" />\r\n                                            <span className=\"text-sm text-gray-400 mt-2\">Subir Video</span>\r\n                                            <span className=\"text-xs text-gray-500 mt-1\">Máx. 30 segundos</span>\r\n                                        </>\r\n                                    )}\r\n                                    <input\r\n                                        type=\"file\"\r\n                                        accept=\"video/*\"\r\n                                        onChange={(e) => {\r\n                                            setUploadType('video');\r\n                                            handleMediaUpload(e);\r\n                                        }}\r\n                                        className=\"hidden\"\r\n                                        disabled={uploading}\r\n                                    />\r\n                                </label>\r\n                            </div>\r\n\r\n                            <p className=\"text-gray-500 text-xs text-center\">\r\n                                Formatos: JPG, PNG, WebP, MP4, WebM. Máximo 50MB para videos.\r\n                            </p>\r\n                        </div>\r\n                    ) : (\r\n                        <div className=\"flex gap-4\">\r\n                            <div className=\"w-32 flex-shrink-0\">\r\n                                {getMediaPreview()}\r\n                            </div>\r\n                            <div className=\"flex-1 space-y-3\">\r\n                                <p className=\"text-gray-400 text-sm\">\r\n                                    {formData.video_url\r\n                                        ? 'Video cargado correctamente. Se reproducirá en bucle.'\r\n                                        : 'Imagen cargada correctamente.'}\r\n                                </p>\r\n                                <label className=\"inline-flex items-center gap-2 px-3 py-2 bg-white/10 hover:bg-white/20 rounded-lg cursor-pointer transition-colors text-sm text-gray-300\">\r\n                                    <Upload size={16} />\r\n                                    Cambiar media\r\n                                    <input\r\n                                        type=\"file\"\r\n                                        accept={formData.video_url ? 'video/*' : 'image/*'}\r\n                                        onChange={handleMediaUpload}\r\n                                        className=\"hidden\"\r\n                                        disabled={uploading}\r\n                                    />\r\n                                </label>\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n\r\n                    {errors.media && (\r\n                        <p className=\"text-red-400 text-xs mt-2\">{errors.media}</p>\r\n                    )}\r\n                </div>\r\n\r\n                {/* Title */}\r\n                <div>\r\n                    <label className=\"block text-sm font-medium text-gray-300 mb-2\">\r\n                        Título *\r\n                    </label>\r\n                    <input\r\n                        type=\"text\"\r\n                        value={formData.title}\r\n                        onChange={(e) => {\r\n                            setFormData(prev => ({ ...prev, title: e.target.value }));\r\n                            if (errors.title) setErrors(prev => ({ ...prev, title: '' }));\r\n                        }}\r\n                        className={`w-full px-4 py-3 bg-white/5 border rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-brand-primary/50 transition-colors ${errors.title ? 'border-red-500' : 'border-white/10'\r\n                            }`}\r\n                        placeholder=\"Ej: Especial del Día\"\r\n                    />\r\n                    {errors.title && (\r\n                        <p className=\"text-red-400 text-xs mt-1\">{errors.title}</p>\r\n                    )}\r\n                </div>\r\n\r\n                {/* Type */}\r\n                <div>\r\n                    <label className=\"block text-sm font-medium text-gray-300 mb-2\">\r\n                        Tipo de Story\r\n                    </label>\r\n                    <div className=\"grid grid-cols-2 gap-2\">\r\n                        {STORY_TYPES.map((type) => (\r\n                            <button\r\n                                key={type.value}\r\n                                type=\"button\"\r\n                                onClick={() => setFormData(prev => ({ ...prev, type: type.value as StoryFormData['type'] }))}\r\n                                className={`p-3 rounded-lg border text-left transition-colors ${formData.type === type.value\r\n                                        ? 'border-brand-primary bg-brand-primary/10'\r\n                                        : 'border-white/10 hover:border-white/20'\r\n                                    }`}\r\n                            >\r\n                                <div className=\"text-sm font-medium text-white\">{type.label}</div>\r\n                                <div className=\"text-xs text-gray-500\">{type.description}</div>\r\n                            </button>\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Linked Dish */}\r\n                <div>\r\n                    <label className=\"block text-sm font-medium text-gray-300 mb-2\">\r\n                        <Link2 size={14} className=\"inline mr-1\" />\r\n                        Plato Vinculado (Opcional)\r\n                    </label>\r\n                    <select\r\n                        value={formData.linked_dish_id || ''}\r\n                        onChange={(e) => setFormData(prev => ({\r\n                            ...prev,\r\n                            linked_dish_id: e.target.value || null\r\n                        }))}\r\n                        className=\"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-brand-primary/50 transition-colors\"\r\n                    >\r\n                        <option value=\"\">Ninguno</option>\r\n                        {dishes.map((dish) => (\r\n                            <option key={dish.id} value={dish.id}>\r\n                                {dish.name} - ${dish.price.toLocaleString('es-CO')}\r\n                            </option>\r\n                        ))}\r\n                    </select>\r\n                    <p className=\"text-gray-500 text-xs mt-1\">\r\n                        Al vincular un plato, los usuarios podrán verlo al tocar la story\r\n                    </p>\r\n                </div>\r\n\r\n                {/* Expiration Date */}\r\n                <div>\r\n                    <label className=\"block text-sm font-medium text-gray-300 mb-2\">\r\n                        <Calendar size={14} className=\"inline mr-1\" />\r\n                        Fecha de Expiración (Opcional)\r\n                    </label>\r\n                    <input\r\n                        type=\"date\"\r\n                        value={formData.expires_at || ''}\r\n                        onChange={(e) => setFormData(prev => ({\r\n                            ...prev,\r\n                            expires_at: e.target.value || null\r\n                        }))}\r\n                        min={new Date().toISOString().split('T')[0]}\r\n                        className=\"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-brand-primary/50 transition-colors\"\r\n                    />\r\n                    <p className=\"text-gray-500 text-xs mt-1\">\r\n                        La story se desactivará automáticamente después de esta fecha\r\n                    </p>\r\n                </div>\r\n\r\n                {/* Active Status */}\r\n                <div className=\"flex items-center justify-between p-4 bg-white/5 rounded-lg border border-white/10\">\r\n                    <div>\r\n                        <div className=\"text-sm font-medium text-white\">Story Activa</div>\r\n                        <div className=\"text-xs text-gray-500\">La story será visible en el menú</div>\r\n                    </div>\r\n                    <button\r\n                        type=\"button\"\r\n                        onClick={() => setFormData(prev => ({ ...prev, is_active: !prev.is_active }))}\r\n                        className={`relative w-12 h-6 rounded-full transition-colors ${formData.is_active ? 'bg-brand-primary' : 'bg-gray-600'\r\n                            }`}\r\n                    >\r\n                        <span\r\n                            className={`absolute top-1 left-1 w-4 h-4 bg-white rounded-full transition-transform ${formData.is_active ? 'translate-x-6' : 'translate-x-0'\r\n                                }`}\r\n                        />\r\n                    </button>\r\n                </div>\r\n\r\n                {/* Actions */}\r\n                <div className=\"flex gap-3 pt-4 border-t border-white/10\">\r\n                    <button\r\n                        type=\"button\"\r\n                        onClick={onClose}\r\n                        className=\"flex-1 px-4 py-3 bg-white/10 hover:bg-white/20 text-white rounded-lg transition-colors font-medium\"\r\n                    >\r\n                        Cancelar\r\n                    </button>\r\n                    <button\r\n                        type=\"submit\"\r\n                        disabled={loading || uploading}\r\n                        className=\"flex-1 px-4 py-3 bg-brand-primary hover:bg-brand-primary/80 text-white rounded-lg transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2\"\r\n                    >\r\n                        {loading ? (\r\n                            <>\r\n                                <Loader2 size={16} className=\"animate-spin\" />\r\n                                Guardando...\r\n                            </>\r\n                        ) : (\r\n                            story ? 'Guardar Cambios' : 'Crear Story'\r\n                        )}\r\n                    </button>\r\n                </div>\r\n            </form>\r\n        </Modal>\r\n    );\r\n};\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1265, "column": 0}, "map": {"version":3,"sources":["file:///c:/Users/ASUS/OneDrive/Documentos/Men%C3%BAs%20IA/src/components/ui/ConfirmDialog.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React from 'react';\r\nimport { AlertTriangle, X } from 'lucide-react';\r\nimport { Modal } from '@/components/ui/Modal';\r\n\r\ninterface ConfirmDialogProps {\r\n    isOpen: boolean;\r\n    onClose: () => void;\r\n    onConfirm: () => void;\r\n    title: string;\r\n    message: string;\r\n    confirmText?: string;\r\n    cancelText?: string;\r\n    variant?: 'danger' | 'warning' | 'info';\r\n    loading?: boolean;\r\n}\r\n\r\nexport const ConfirmDialog: React.FC<ConfirmDialogProps> = ({\r\n    isOpen,\r\n    onClose,\r\n    onConfirm,\r\n    title,\r\n    message,\r\n    confirmText = 'Confirmar',\r\n    cancelText = 'Cancelar',\r\n    variant = 'danger',\r\n    loading = false,\r\n}) => {\r\n    const variantStyles = {\r\n        danger: {\r\n            icon: 'bg-red-500/20 text-red-400',\r\n            button: 'bg-red-500 hover:bg-red-600',\r\n        },\r\n        warning: {\r\n            icon: 'bg-yellow-500/20 text-yellow-400',\r\n            button: 'bg-yellow-500 hover:bg-yellow-600',\r\n        },\r\n        info: {\r\n            icon: 'bg-blue-500/20 text-blue-400',\r\n            button: 'bg-blue-500 hover:bg-blue-600',\r\n        },\r\n    };\r\n\r\n    return (\r\n        <Modal isOpen={isOpen} onClose={onClose} title=\"\">\r\n            <div className=\"p-6\">\r\n                <div className=\"flex items-start gap-4\">\r\n                    <div className={`p-3 rounded-full ${variantStyles[variant].icon}`}>\r\n                        <AlertTriangle size={24} />\r\n                    </div>\r\n                    <div className=\"flex-1\">\r\n                        <h3 className=\"text-lg font-semibold text-white mb-2\">\r\n                            {title}\r\n                        </h3>\r\n                        <p className=\"text-gray-400 text-sm\">\r\n                            {message}\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"flex gap-3 mt-6\">\r\n                    <button\r\n                        type=\"button\"\r\n                        onClick={onClose}\r\n                        disabled={loading}\r\n                        className=\"flex-1 px-4 py-3 bg-white/10 hover:bg-white/20 text-white rounded-lg transition-colors font-medium disabled:opacity-50\"\r\n                    >\r\n                        {cancelText}\r\n                    </button>\r\n                    <button\r\n                        type=\"button\"\r\n                        onClick={onConfirm}\r\n                        disabled={loading}\r\n                        className={`flex-1 px-4 py-3 ${variantStyles[variant].button} text-white rounded-lg transition-colors font-medium disabled:opacity-50 flex items-center justify-center gap-2`}\r\n                    >\r\n                        {loading ? (\r\n                            <>\r\n                                <span className=\"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin\" />\r\n                                Eliminando...\r\n                            </>\r\n                        ) : (\r\n                            confirmText\r\n                        )}\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </Modal>\r\n    );\r\n};\r\n"],"names":[],"mappings":";;;;;AAGA;AACA;AAJA;;;;AAkBO,MAAM,gBAA8C,CAAC,EACxD,MAAM,EACN,OAAO,EACP,SAAS,EACT,KAAK,EACL,OAAO,EACP,cAAc,WAAW,EACzB,aAAa,UAAU,EACvB,UAAU,QAAQ,EAClB,UAAU,KAAK,EAClB;IACG,MAAM,gBAAgB;QAClB,QAAQ;YACJ,MAAM;YACN,QAAQ;QACZ;QACA,SAAS;YACL,MAAM;YACN,QAAQ;QACZ;QACA,MAAM;YACF,MAAM;YACN,QAAQ;QACZ;IACJ;IAEA,qBACI,8OAAC,0IAAK;QAAC,QAAQ;QAAQ,SAAS;QAAS,OAAM;kBAC3C,cAAA,8OAAC;YAAI,WAAU;;8BACX,8OAAC;oBAAI,WAAU;;sCACX,8OAAC;4BAAI,WAAW,CAAC,iBAAiB,EAAE,aAAa,CAAC,QAAQ,CAAC,IAAI,EAAE;sCAC7D,cAAA,8OAAC,yOAAa;gCAAC,MAAM;;;;;;;;;;;sCAEzB,8OAAC;4BAAI,WAAU;;8CACX,8OAAC;oCAAG,WAAU;8CACT;;;;;;8CAEL,8OAAC;oCAAE,WAAU;8CACR;;;;;;;;;;;;;;;;;;8BAKb,8OAAC;oBAAI,WAAU;;sCACX,8OAAC;4BACG,MAAK;4BACL,SAAS;4BACT,UAAU;4BACV,WAAU;sCAET;;;;;;sCAEL,8OAAC;4BACG,MAAK;4BACL,SAAS;4BACT,UAAU;4BACV,WAAW,CAAC,iBAAiB,EAAE,aAAa,CAAC,QAAQ,CAAC,MAAM,CAAC,+GAA+G,CAAC;sCAE5K,wBACG;;kDACI,8OAAC;wCAAK,WAAU;;;;;;oCAA8E;;+CAIlG;;;;;;;;;;;;;;;;;;;;;;;AAO5B"}},
    {"offset": {"line": 1404, "column": 0}, "map": {"version":3,"sources":["file:///c:/Users/ASUS/OneDrive/Documentos/Men%C3%BAs%20IA/src/app/admin/stories/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React, { useState, useMemo } from 'react';\r\nimport { Plus, Eye, Edit2, Trash2, Image, Video, Calendar, Loader2, AlertCircle } from 'lucide-react';\r\nimport { useStories, type Story, type StoryFormData } from '@/hooks/useStories';\r\nimport { useDishes } from '@/hooks/useDishes';\r\nimport { StoryForm } from '@/components/admin/StoryForm';\r\nimport { ConfirmDialog } from '@/components/ui/ConfirmDialog';\r\n\r\nconst STORY_TYPE_LABELS: Record<string, string> = {\r\n    dish: 'Plato',\r\n    promo: 'Promoción',\r\n    chef: 'Chef',\r\n    event: 'Evento',\r\n};\r\n\r\nconst STORY_TYPE_COLORS: Record<string, string> = {\r\n    dish: 'bg-green-500/20 text-green-400 border-green-500/30',\r\n    promo: 'bg-yellow-500/20 text-yellow-400 border-yellow-500/30',\r\n    chef: 'bg-purple-500/20 text-purple-400 border-purple-500/30',\r\n    event: 'bg-blue-500/20 text-blue-400 border-blue-500/30',\r\n};\r\n\r\nexport default function StoriesManagementPage() {\r\n    const { stories, loading, error, fetchStories, createStory, updateStory, deleteStory } = useStories();\r\n    const { dishes } = useDishes();\r\n\r\n    const [isFormOpen, setIsFormOpen] = useState(false);\r\n    const [editingStory, setEditingStory] = useState<Story | null>(null);\r\n    const [deleteConfirm, setDeleteConfirm] = useState<Story | null>(null);\r\n    const [filterType, setFilterType] = useState<string>('all');\r\n    const [submitting, setSubmitting] = useState(false);\r\n\r\n    // Filter stories by type\r\n    const filteredStories = useMemo(() => {\r\n        if (filterType === 'all') return stories;\r\n        return stories.filter(s => s.type === filterType);\r\n    }, [stories, filterType]);\r\n\r\n    // Calculate stats\r\n    const stats = useMemo(() => {\r\n        const activeStories = stories.filter(s => s.is_active);\r\n        const totalViews = stories.reduce((sum, s) => sum + (s.view_count || 0), 0);\r\n        const expiredStories = stories.filter(s =>\r\n            s.expires_at && new Date(s.expires_at) < new Date()\r\n        );\r\n\r\n        return {\r\n            total: stories.length,\r\n            active: activeStories.length,\r\n            views: totalViews,\r\n            expired: expiredStories.length,\r\n        };\r\n    }, [stories]);\r\n\r\n    const handleCreate = () => {\r\n        setEditingStory(null);\r\n        setIsFormOpen(true);\r\n    };\r\n\r\n    const handleEdit = (story: Story) => {\r\n        setEditingStory(story);\r\n        setIsFormOpen(true);\r\n    };\r\n\r\n    const handleDelete = async () => {\r\n        if (!deleteConfirm) return;\r\n\r\n        setSubmitting(true);\r\n        const success = await deleteStory(deleteConfirm.id);\r\n        if (success) {\r\n            setDeleteConfirm(null);\r\n        }\r\n        setSubmitting(false);\r\n    };\r\n\r\n    const handleSubmit = async (data: StoryFormData): Promise<boolean> => {\r\n        setSubmitting(true);\r\n        try {\r\n            let success: Story | null;\r\n            if (editingStory) {\r\n                success = await updateStory(editingStory.id, data);\r\n            } else {\r\n                success = await createStory(data);\r\n            }\r\n            return success !== null;\r\n        } finally {\r\n            setSubmitting(false);\r\n        }\r\n    };\r\n\r\n    const formatDate = (dateString: string) => {\r\n        return new Date(dateString).toLocaleDateString('es-CO', {\r\n            day: 'numeric',\r\n            month: 'short',\r\n            year: 'numeric',\r\n        });\r\n    };\r\n\r\n    const isExpired = (story: Story) => {\r\n        return story.expires_at && new Date(story.expires_at) < new Date();\r\n    };\r\n\r\n    return (\r\n        <div className=\"space-y-6\">\r\n            {/* Header */}\r\n            <div className=\"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4\">\r\n                <div>\r\n                    <h1 className=\"text-2xl font-bold text-white\">Stories</h1>\r\n                    <p className=\"text-gray-400 mt-1\">Gestiona tus stories promocionales tipo Instagram</p>\r\n                </div>\r\n                <button\r\n                    onClick={handleCreate}\r\n                    className=\"px-4 py-2 bg-brand-primary hover:bg-brand-primary/80 text-white rounded-lg transition-colors text-sm font-medium flex items-center gap-2\"\r\n                >\r\n                    <Plus size={18} />\r\n                    Nueva Story\r\n                </button>\r\n            </div>\r\n\r\n            {/* Stats */}\r\n            <div className=\"grid grid-cols-2 sm:grid-cols-4 gap-4\">\r\n                <div className=\"bg-white/5 border border-white/10 rounded-xl p-4\">\r\n                    <div className=\"text-3xl font-bold text-white\">{stats.total}</div>\r\n                    <div className=\"text-sm text-gray-400\">Total Stories</div>\r\n                </div>\r\n                <div className=\"bg-white/5 border border-white/10 rounded-xl p-4\">\r\n                    <div className=\"text-3xl font-bold text-green-400\">{stats.active}</div>\r\n                    <div className=\"text-sm text-gray-400\">Activas</div>\r\n                </div>\r\n                <div className=\"bg-white/5 border border-white/10 rounded-xl p-4\">\r\n                    <div className=\"text-3xl font-bold text-white\">{stats.views.toLocaleString('es-CO')}</div>\r\n                    <div className=\"text-sm text-gray-400\">Visualizaciones</div>\r\n                </div>\r\n                <div className=\"bg-white/5 border border-white/10 rounded-xl p-4\">\r\n                    <div className=\"text-3xl font-bold text-red-400\">{stats.expired}</div>\r\n                    <div className=\"text-sm text-gray-400\">Expiradas</div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Error Message */}\r\n            {error && (\r\n                <div className=\"bg-red-500/10 border border-red-500/20 rounded-xl p-4 flex items-center gap-3\">\r\n                    <AlertCircle className=\"text-red-400\" size={20} />\r\n                    <p className=\"text-red-400 text-sm\">{error}</p>\r\n                </div>\r\n            )}\r\n\r\n            {/* Stories Grid */}\r\n            <div className=\"bg-white/5 border border-white/10 rounded-xl p-6\">\r\n                <div className=\"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6\">\r\n                    <h2 className=\"text-lg font-semibold text-white\">Todas las Stories</h2>\r\n                    <select\r\n                        value={filterType}\r\n                        onChange={(e) => setFilterType(e.target.value)}\r\n                        className=\"bg-white/10 border border-white/20 rounded-lg px-3 py-2 text-sm text-white focus:outline-none focus:border-brand-primary\"\r\n                    >\r\n                        <option value=\"all\">Todos los tipos</option>\r\n                        <option value=\"dish\">Plato</option>\r\n                        <option value=\"promo\">Promoción</option>\r\n                        <option value=\"chef\">Chef</option>\r\n                        <option value=\"event\">Evento</option>\r\n                    </select>\r\n                </div>\r\n\r\n                {loading ? (\r\n                    <div className=\"flex items-center justify-center py-12\">\r\n                        <Loader2 size={32} className=\"text-gray-400 animate-spin\" />\r\n                    </div>\r\n                ) : filteredStories.length === 0 ? (\r\n                    <div className=\"text-center py-12\">\r\n                        <div className=\"w-16 h-16 mx-auto mb-4 rounded-full bg-white/5 flex items-center justify-center\">\r\n                            <Image size={32} className=\"text-gray-500\" />\r\n                        </div>\r\n                        <p className=\"text-gray-400\">No hay stories creados</p>\r\n                        <p className=\"text-gray-500 text-sm mt-2\">\r\n                            {filterType === 'all'\r\n                                ? 'Crea tu primera story para promocionar platos'\r\n                                : 'No hay stories de este tipo'}\r\n                        </p>\r\n                        {filterType === 'all' && (\r\n                            <button\r\n                                onClick={handleCreate}\r\n                                className=\"mt-4 px-4 py-2 bg-brand-primary hover:bg-brand-primary/80 text-white rounded-lg transition-colors text-sm font-medium\"\r\n                            >\r\n                                Crear Story\r\n                            </button>\r\n                        )}\r\n                    </div>\r\n                ) : (\r\n                    <div className=\"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4\">\r\n                        {filteredStories.map((story) => (\r\n                            <div\r\n                                key={story.id}\r\n                                className={`group relative aspect-[9/16] bg-white/5 rounded-xl overflow-hidden border transition-all ${isExpired(story)\r\n                                        ? 'border-red-500/30 opacity-60'\r\n                                        : story.is_active\r\n                                            ? 'border-white/10 hover:border-brand-primary/50'\r\n                                            : 'border-gray-500/30 opacity-50'\r\n                                    }`}\r\n                            >\r\n                                {/* Media Preview */}\r\n                                {story.video_url ? (\r\n                                    <video\r\n                                        src={story.video_url}\r\n                                        className=\"w-full h-full object-cover\"\r\n                                        muted\r\n                                        playsInline\r\n                                        onMouseEnter={(e) => e.currentTarget.play()}\r\n                                        onMouseLeave={(e) => {\r\n                                            e.currentTarget.pause();\r\n                                            e.currentTarget.currentTime = 0;\r\n                                        }}\r\n                                    />\r\n                                ) : story.image_url ? (\r\n                                    <img\r\n                                        src={story.image_url}\r\n                                        alt={story.title}\r\n                                        className=\"w-full h-full object-cover\"\r\n                                    />\r\n                                ) : (\r\n                                    <div className=\"w-full h-full flex items-center justify-center bg-white/10\">\r\n                                        <Image size={32} className=\"text-gray-500\" />\r\n                                    </div>\r\n                                )}\r\n\r\n                                {/* Overlay */}\r\n                                <div className=\"absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity\">\r\n                                    <div className=\"absolute bottom-0 left-0 right-0 p-3\">\r\n                                        <p className=\"text-white text-sm font-medium truncate\">{story.title}</p>\r\n                                        <div className=\"flex items-center gap-2 mt-1\">\r\n                                            <span className={`text-xs px-2 py-0.5 rounded border ${STORY_TYPE_COLORS[story.type]}`}>\r\n                                                {STORY_TYPE_LABELS[story.type]}\r\n                                            </span>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                {/* Status Indicators */}\r\n                                <div className=\"absolute top-2 left-2 flex flex-col gap-1\">\r\n                                    {story.video_url && (\r\n                                        <div className=\"p-1 bg-black/50 rounded\">\r\n                                            <Video size={12} className=\"text-white\" />\r\n                                        </div>\r\n                                    )}\r\n                                    {!story.is_active && (\r\n                                        <div className=\"px-2 py-0.5 bg-gray-500/80 rounded text-xs text-white\">\r\n                                            Inactiva\r\n                                        </div>\r\n                                    )}\r\n                                    {isExpired(story) && (\r\n                                        <div className=\"px-2 py-0.5 bg-red-500/80 rounded text-xs text-white\">\r\n                                            Expirada\r\n                                        </div>\r\n                                    )}\r\n                                </div>\r\n\r\n                                {/* View Count */}\r\n                                <div className=\"absolute top-2 right-2 flex items-center gap-1 px-2 py-1 bg-black/50 rounded text-xs text-white\">\r\n                                    <Eye size={12} />\r\n                                    {story.view_count || 0}\r\n                                </div>\r\n\r\n                                {/* Actions */}\r\n                                <div className=\"absolute inset-x-0 top-1/2 -translate-y-1/2 flex justify-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity\">\r\n                                    <button\r\n                                        onClick={() => handleEdit(story)}\r\n                                        className=\"p-2 bg-white/20 hover:bg-white/30 rounded-full backdrop-blur-sm transition-colors\"\r\n                                        title=\"Editar\"\r\n                                    >\r\n                                        <Edit2 size={16} className=\"text-white\" />\r\n                                    </button>\r\n                                    <button\r\n                                        onClick={() => setDeleteConfirm(story)}\r\n                                        className=\"p-2 bg-red-500/50 hover:bg-red-500/70 rounded-full backdrop-blur-sm transition-colors\"\r\n                                        title=\"Eliminar\"\r\n                                    >\r\n                                        <Trash2 size={16} className=\"text-white\" />\r\n                                    </button>\r\n                                </div>\r\n\r\n                                {/* Expiration Badge */}\r\n                                {story.expires_at && (\r\n                                    <div className=\"absolute bottom-2 right-2 flex items-center gap-1 px-2 py-1 bg-black/50 rounded text-xs text-white\">\r\n                                        <Calendar size={10} />\r\n                                        {formatDate(story.expires_at)}\r\n                                    </div>\r\n                                )}\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                )}\r\n            </div>\r\n\r\n            {/* Story Form Modal */}\r\n            <StoryForm\r\n                isOpen={isFormOpen}\r\n                onClose={() => {\r\n                    setIsFormOpen(false);\r\n                    setEditingStory(null);\r\n                }}\r\n                onSubmit={handleSubmit}\r\n                story={editingStory}\r\n                dishes={dishes}\r\n                loading={submitting}\r\n            />\r\n\r\n            {/* Delete Confirmation */}\r\n            <ConfirmDialog\r\n                isOpen={!!deleteConfirm}\r\n                onClose={() => setDeleteConfirm(null)}\r\n                onConfirm={handleDelete}\r\n                title=\"Eliminar Story\"\r\n                message={`¿Estás seguro de que deseas eliminar la story \"${deleteConfirm?.title}\"? Esta acción no se puede deshacer.`}\r\n                confirmText=\"Eliminar\"\r\n                loading={submitting}\r\n                variant=\"danger\"\r\n            />\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}