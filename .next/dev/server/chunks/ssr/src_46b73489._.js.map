{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///c:/Users/ASUS/OneDrive/Documentos/Men%C3%BAs%20IA/src/lib/constants.ts"],"sourcesContent":["\nimport { MenuItem, Category, Story, RestaurantTheme } from '@/types';\n\n// --- THEME CONFIGURATION ---\nexport const DEFAULT_THEME: RestaurantTheme = {\n  colors: {\n    primary: '#F94144',   // Red-Orange (Appetizing)\n    secondary: '#1F2937', // Dark Gray\n    accent: '#F3722C',    // Orange\n    dark: '#030712',      // Deepest Black/Blue\n  },\n  fonts: {\n    sans: 'Inter, sans-serif',\n    serif: 'Playfair Display, serif',\n  }\n};\n\nexport const CATEGORIES: Category[] = [\n  { id: 'starters', name: 'Entradas' },\n  { id: 'mains', name: 'Fuertes' },\n  { id: 'burgers', name: 'Handhelds' },\n  { id: 'desserts', name: 'Postres' },\n  { id: 'drinks', name: 'Bar & Cocteles' },\n];\n\nexport const STORIES: Story[] = [\n  {\n    id: 's1',\n    title: 'Nueva Trufa',\n    image: 'https://images.unsplash.com/photo-1568901346375-23c9450c58cd?auto=format&fit=crop&w=800&q=80',\n    viewed: false,\n    type: 'dish',\n    linkedItemId: 'm1'\n  },\n  {\n    id: 's2',\n    title: 'Mesa del Chef',\n    image: 'https://images.unsplash.com/photo-1559339352-11d035aa65de?auto=format&fit=crop&w=800&q=80',\n    viewed: false,\n    type: 'chef',\n  },\n  {\n    id: 's3',\n    title: 'Coctelería',\n    image: 'https://images.unsplash.com/photo-1514362545857-3bc16c4c7d1b?auto=format&fit=crop&w=800&q=80',\n    viewed: true,\n    type: 'promo',\n  },\n];\n\nexport const MENU_ITEMS: MenuItem[] = [\n  {\n    id: 'm1',\n    name: 'Truffle Smash Burger',\n    description: 'Doble carne madurada, mayonesa de trufa negra, queso suizo y pan brioche artesanal.',\n    price: 38000,\n    image: 'https://images.unsplash.com/photo-1568901346375-23c9450c58cd?auto=format&fit=crop&w=800&q=80',\n    category: 'burgers',\n    tags: ['Popular', 'Chef Choice'],\n    popular: true,\n    available: true,\n    calories: 950,\n    pairing: 'Malbec Reserva',\n    ingredients: ['Trufa Negra', 'Queso Suizo', 'Brioche', 'Res Madurada']\n  },\n  {\n    id: 'm2',\n    name: 'Tartar de Atún Picante',\n    description: 'Atún aleta azul, mousse de aguacate, crujiente de sésamo y reducción de ponzu.',\n    price: 42000,\n    image: 'https://images.unsplash.com/photo-1534482421-64566f976cfa?auto=format&fit=crop&w=800&q=80',\n    category: 'starters',\n    tags: ['Picante', 'GF', 'Proteína'],\n    new: true,\n    available: true,\n    calories: 320,\n    pairing: 'Sauvignon Blanc',\n    ingredients: ['Atún Rojo', 'Ponzu', 'Aguacate']\n  },\n  {\n    id: 'm3',\n    name: 'Goddess Buddha Bowl',\n    description: 'Quinoa tricolor, garbanzos rostizados, kale masajeado y aderezo diosa verde de tahini.',\n    price: 32000,\n    image: 'https://images.unsplash.com/photo-1512621776951-a57141f2eefd?auto=format&fit=crop&w=800&q=80',\n    category: 'mains',\n    tags: ['Vegano', 'GF', 'Saludable'],\n    available: true,\n    calories: 450,\n    pairing: 'Jugo Verde Detox'\n  },\n  {\n    id: 'm4',\n    name: 'Volcán de Chocolate',\n    description: 'Fondant de chocolate 70%, gelato de vainilla de Madagascar y coulis de frutos rojos.',\n    price: 22000,\n    image: 'https://images.unsplash.com/photo-1606313564200-e75d5e30476d?auto=format&fit=crop&w=800&q=80',\n    category: 'desserts',\n    tags: ['Dulce', 'Indulgente'],\n    popular: true,\n    available: true,\n    calories: 600,\n    pairing: 'Espresso Martini'\n  },\n  {\n    id: 'm5',\n    name: 'Wagyu Steak Frites',\n    description: 'Sirloin Wagyu A5 (8oz), mantequilla de hierbas compuesta y papas fritas trufadas.',\n    price: 125000,\n    image: 'https://images.unsplash.com/photo-1600891964092-4316c288032e?auto=format&fit=crop&w=800&q=80',\n    category: 'mains',\n    tags: ['GF', 'Premium'],\n    chefChoice: true,\n    available: true,\n    calories: 800,\n    pairing: 'Cabernet Sauvignon'\n  },\n  {\n    id: 'm6',\n    name: 'Paloma de Romero',\n    description: 'Tequila Reposado, toronja fresca, jarabe de romero ahumado, lima y agua con gas.',\n    price: 32000,\n    image: 'https://images.unsplash.com/photo-1556679343-c7306c1976bc?auto=format&fit=crop&w=800&q=80',\n    category: 'drinks',\n    tags: ['Coctel', 'Refrescante'],\n    available: true,\n    calories: 180\n  },\n  {\n    id: 'm7',\n    name: 'Burrata & Durazno',\n    description: 'Burrata italiana fresca, duraznos a la parrilla, aceite de albahaca y glaseado balsámico.',\n    price: 36000,\n    image: 'https://images.unsplash.com/photo-1608219992759-8d74ed8d76eb?auto=format&fit=crop&w=800&q=80',\n    category: 'starters',\n    tags: ['Vegetariano', 'Temporada'],\n    new: true,\n    available: true,\n    calories: 400,\n    pairing: 'Vino Rosado'\n  }\n];\n"],"names":[],"mappings":";;;;;;;;;;AAIO,MAAM,gBAAiC;IAC5C,QAAQ;QACN,SAAS;QACT,WAAW;QACX,QAAQ;QACR,MAAM;IACR;IACA,OAAO;QACL,MAAM;QACN,OAAO;IACT;AACF;AAEO,MAAM,aAAyB;IACpC;QAAE,IAAI;QAAY,MAAM;IAAW;IACnC;QAAE,IAAI;QAAS,MAAM;IAAU;IAC/B;QAAE,IAAI;QAAW,MAAM;IAAY;IACnC;QAAE,IAAI;QAAY,MAAM;IAAU;IAClC;QAAE,IAAI;QAAU,MAAM;IAAiB;CACxC;AAEM,MAAM,UAAmB;IAC9B;QACE,IAAI;QACJ,OAAO;QACP,OAAO;QACP,QAAQ;QACR,MAAM;QACN,cAAc;IAChB;IACA;QACE,IAAI;QACJ,OAAO;QACP,OAAO;QACP,QAAQ;QACR,MAAM;IACR;IACA;QACE,IAAI;QACJ,OAAO;QACP,OAAO;QACP,QAAQ;QACR,MAAM;IACR;CACD;AAEM,MAAM,aAAyB;IACpC;QACE,IAAI;QACJ,MAAM;QACN,aAAa;QACb,OAAO;QACP,OAAO;QACP,UAAU;QACV,MAAM;YAAC;YAAW;SAAc;QAChC,SAAS;QACT,WAAW;QACX,UAAU;QACV,SAAS;QACT,aAAa;YAAC;YAAe;YAAe;YAAW;SAAe;IACxE;IACA;QACE,IAAI;QACJ,MAAM;QACN,aAAa;QACb,OAAO;QACP,OAAO;QACP,UAAU;QACV,MAAM;YAAC;YAAW;YAAM;SAAW;QACnC,KAAK;QACL,WAAW;QACX,UAAU;QACV,SAAS;QACT,aAAa;YAAC;YAAa;YAAS;SAAW;IACjD;IACA;QACE,IAAI;QACJ,MAAM;QACN,aAAa;QACb,OAAO;QACP,OAAO;QACP,UAAU;QACV,MAAM;YAAC;YAAU;YAAM;SAAY;QACnC,WAAW;QACX,UAAU;QACV,SAAS;IACX;IACA;QACE,IAAI;QACJ,MAAM;QACN,aAAa;QACb,OAAO;QACP,OAAO;QACP,UAAU;QACV,MAAM;YAAC;YAAS;SAAa;QAC7B,SAAS;QACT,WAAW;QACX,UAAU;QACV,SAAS;IACX;IACA;QACE,IAAI;QACJ,MAAM;QACN,aAAa;QACb,OAAO;QACP,OAAO;QACP,UAAU;QACV,MAAM;YAAC;YAAM;SAAU;QACvB,YAAY;QACZ,WAAW;QACX,UAAU;QACV,SAAS;IACX;IACA;QACE,IAAI;QACJ,MAAM;QACN,aAAa;QACb,OAAO;QACP,OAAO;QACP,UAAU;QACV,MAAM;YAAC;YAAU;SAAc;QAC/B,WAAW;QACX,UAAU;IACZ;IACA;QACE,IAAI;QACJ,MAAM;QACN,aAAa;QACb,OAAO;QACP,OAAO;QACP,UAAU;QACV,MAAM;YAAC;YAAe;SAAY;QAClC,KAAK;QACL,WAAW;QACX,UAAU;QACV,SAAS;IACX;CACD"}},
    {"offset": {"line": 200, "column": 0}, "map": {"version":3,"sources":["file:///c:/Users/ASUS/OneDrive/Documentos/Men%C3%BAs%20IA/src/hooks/useMenuFilter.ts"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useMemo } from 'react';\r\nimport { MenuItem } from '@/types';\r\nimport { CATEGORIES } from '@/lib/constants';\r\n\r\n// Manual \"Embeddings\" for instant semantic search without API latency\r\nconst CATEGORY_SYNONYMS: Record<string, string[]> = {\r\n  burgers: ['hamburguesa', 'sandwich', 'bocadillo', 'carne', 'res', 'handheld', 'cheeseburger'],\r\n  starters: ['entrada', 'botana', 'inicio', 'para compartir', 'tapas', 'picada'],\r\n  mains: ['fuerte', 'principal', 'plato', 'cena', 'comida', 'grande', 'lujo'],\r\n  desserts: ['postre', 'dulce', 'pastel', 'chocolate', 'helado', 'azucar', 'final'],\r\n  drinks: ['bebida', 'coctel', 'trago', 'vino', 'cerveza', 'alcohol', 'soda', 'refresco', 'bar']\r\n};\r\n\r\nexport const useMenuFilter = (items: MenuItem[]) => {\r\n  const [selectedCategory, setSelectedCategory] = useState<string>('all');\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n\r\n  // Helper: Normalize text (remove accents, lowercase)\r\n  const normalize = (text: string) => {\r\n    return text.normalize(\"NFD\").replace(/[\\u0300-\\u036f]/g, \"\").toLowerCase();\r\n  };\r\n\r\n  const filteredItems = useMemo(() => {\r\n    // 1. GLOBAL SEARCH PRIORITY\r\n    if (searchQuery.trim()) {\r\n      const terms = normalize(searchQuery).split(' ').filter(t => t.length > 0);\r\n\r\n      const scoredItems = items.map(item => {\r\n        let score = 0;\r\n\r\n        // Data Preparation\r\n        const normName = normalize(item.name);\r\n        const normDesc = normalize(item.description);\r\n        const normTags = item.tags.map(t => normalize(t));\r\n\r\n        // Intelligent Category Matching\r\n        const categoryId = item.category;\r\n        const categoryDisplay = CATEGORIES.find(c => c.id === categoryId)?.name || '';\r\n        const normCatDisplay = normalize(categoryDisplay);\r\n        const normCatId = normalize(categoryId);\r\n        const categorySynonyms = CATEGORY_SYNONYMS[categoryId] || [];\r\n\r\n        terms.forEach(term => {\r\n          // Priority 1: Exact Name Match or Starts With (Highest relevance)\r\n          if (normName === term) score += 100;\r\n          else if (normName.startsWith(term)) score += 50;\r\n\r\n          // Priority 2: Name contains term\r\n          else if (normName.includes(term)) score += 25;\r\n\r\n          // Priority 3: Tags (Discovery)\r\n          if (normTags.some(t => t.includes(term))) score += 20;\r\n\r\n          // Priority 4: Category Display Name (e.g., searching \"Entradas\")\r\n          if (normCatDisplay.includes(term)) score += 15;\r\n\r\n          // Priority 5: Category Synonyms (The \"Smart\" Layer - e.g. searching \"Hamburguesa\" hits \"burgers\")\r\n          if (categorySynonyms.some(syn => syn.includes(term))) score += 15;\r\n\r\n          // Priority 6: Description (Context)\r\n          if (normDesc.includes(term)) score += 5;\r\n        });\r\n\r\n        return { item, score };\r\n      });\r\n\r\n      // Filter out zero matches and sort by relevance\r\n      return scoredItems\r\n        .filter(x => x.score > 0)\r\n        .sort((a, b) => b.score - a.score)\r\n        .map(x => x.item);\r\n    }\r\n\r\n    // 2. CATEGORY FILTER (Fallback)\r\n    if (selectedCategory !== 'all') {\r\n      return items.filter(i => i.category === selectedCategory);\r\n    }\r\n\r\n    return items;\r\n  }, [items, selectedCategory, searchQuery]);\r\n\r\n  return {\r\n    selectedCategory,\r\n    setSelectedCategory,\r\n    searchQuery,\r\n    setSearchQuery,\r\n    filteredItems\r\n  };\r\n};\r\n"],"names":[],"mappings":";;;;AAEA;AAEA;AAJA;;;AAMA,sEAAsE;AACtE,MAAM,oBAA8C;IAClD,SAAS;QAAC;QAAe;QAAY;QAAa;QAAS;QAAO;QAAY;KAAe;IAC7F,UAAU;QAAC;QAAW;QAAU;QAAU;QAAkB;QAAS;KAAS;IAC9E,OAAO;QAAC;QAAU;QAAa;QAAS;QAAQ;QAAU;QAAU;KAAO;IAC3E,UAAU;QAAC;QAAU;QAAS;QAAU;QAAa;QAAU;QAAU;KAAQ;IACjF,QAAQ;QAAC;QAAU;QAAU;QAAS;QAAQ;QAAW;QAAW;QAAQ;QAAY;KAAM;AAChG;AAEO,MAAM,gBAAgB,CAAC;IAC5B,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,IAAA,iNAAQ,EAAS;IACjE,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAC;IAE/C,qDAAqD;IACrD,MAAM,YAAY,CAAC;QACjB,OAAO,KAAK,SAAS,CAAC,OAAO,OAAO,CAAC,oBAAoB,IAAI,WAAW;IAC1E;IAEA,MAAM,gBAAgB,IAAA,gNAAO,EAAC;QAC5B,4BAA4B;QAC5B,IAAI,YAAY,IAAI,IAAI;YACtB,MAAM,QAAQ,UAAU,aAAa,KAAK,CAAC,KAAK,MAAM,CAAC,CAAA,IAAK,EAAE,MAAM,GAAG;YAEvE,MAAM,cAAc,MAAM,GAAG,CAAC,CAAA;gBAC5B,IAAI,QAAQ;gBAEZ,mBAAmB;gBACnB,MAAM,WAAW,UAAU,KAAK,IAAI;gBACpC,MAAM,WAAW,UAAU,KAAK,WAAW;gBAC3C,MAAM,WAAW,KAAK,IAAI,CAAC,GAAG,CAAC,CAAA,IAAK,UAAU;gBAE9C,gCAAgC;gBAChC,MAAM,aAAa,KAAK,QAAQ;gBAChC,MAAM,kBAAkB,qIAAU,CAAC,IAAI,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK,aAAa,QAAQ;gBAC3E,MAAM,iBAAiB,UAAU;gBACjC,MAAM,YAAY,UAAU;gBAC5B,MAAM,mBAAmB,iBAAiB,CAAC,WAAW,IAAI,EAAE;gBAE5D,MAAM,OAAO,CAAC,CAAA;oBACZ,kEAAkE;oBAClE,IAAI,aAAa,MAAM,SAAS;yBAC3B,IAAI,SAAS,UAAU,CAAC,OAAO,SAAS;yBAGxC,IAAI,SAAS,QAAQ,CAAC,OAAO,SAAS;oBAE3C,+BAA+B;oBAC/B,IAAI,SAAS,IAAI,CAAC,CAAA,IAAK,EAAE,QAAQ,CAAC,QAAQ,SAAS;oBAEnD,iEAAiE;oBACjE,IAAI,eAAe,QAAQ,CAAC,OAAO,SAAS;oBAE5C,kGAAkG;oBAClG,IAAI,iBAAiB,IAAI,CAAC,CAAA,MAAO,IAAI,QAAQ,CAAC,QAAQ,SAAS;oBAE/D,oCAAoC;oBACpC,IAAI,SAAS,QAAQ,CAAC,OAAO,SAAS;gBACxC;gBAEA,OAAO;oBAAE;oBAAM;gBAAM;YACvB;YAEA,gDAAgD;YAChD,OAAO,YACJ,MAAM,CAAC,CAAA,IAAK,EAAE,KAAK,GAAG,GACtB,IAAI,CAAC,CAAC,GAAG,IAAM,EAAE,KAAK,GAAG,EAAE,KAAK,EAChC,GAAG,CAAC,CAAA,IAAK,EAAE,IAAI;QACpB;QAEA,gCAAgC;QAChC,IAAI,qBAAqB,OAAO;YAC9B,OAAO,MAAM,MAAM,CAAC,CAAA,IAAK,EAAE,QAAQ,KAAK;QAC1C;QAEA,OAAO;IACT,GAAG;QAAC;QAAO;QAAkB;KAAY;IAEzC,OAAO;QACL;QACA;QACA;QACA;QACA;IACF;AACF"}},
    {"offset": {"line": 325, "column": 0}, "map": {"version":3,"sources":["file:///c:/Users/ASUS/OneDrive/Documentos/Men%C3%BAs%20IA/src/hooks/useCart.ts"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\nimport { MenuItem } from '@/types';\n\nexport const useCart = () => {\n    const [selection, setSelection] = useState<MenuItem[]>([]);\n\n    const addToCart = (newItem: MenuItem) => {\n        setSelection(prev => {\n            // 1. Prepare signature for the new item\n            // CRITICAL FIX: Use full ID instead of split('-')[0] to prevent collisions between distinct items like \"burger-special\" and \"burger-classic\"\n            const incomingId = newItem.id;\n            const incomingOptsSignature = JSON.stringify(\n                newItem.selectedOptions?.sort((a, b) => a.optionName.localeCompare(b.optionName)) || []\n            );\n\n            // 2. Search for an IDENTICAL item in the cart (Same ID + Same Options)\n            const existingIndex = prev.findIndex(existing => {\n                const existingId = existing.id;\n                const existingOptsSignature = JSON.stringify(\n                    existing.selectedOptions?.sort((a, b) => a.optionName.localeCompare(b.optionName)) || []\n                );\n                return existingId === incomingId && existingOptsSignature === incomingOptsSignature;\n            });\n\n            // 3. MERGE or APPEND\n            if (existingIndex >= 0) {\n                const updatedCart = [...prev];\n                const existingItem = updatedCart[existingIndex];\n                const quantityToAdd = newItem.quantity || 1;\n                const newQuantity = (existingItem.quantity || 1) + quantityToAdd;\n\n                // Recalculate finalPrice based on the unit price stored in the item\n                // Note: We trust existingItem.price is the correct unit price (base + modifiers)\n                const unitPrice = existingItem.price;\n\n                updatedCart[existingIndex] = {\n                    ...existingItem,\n                    quantity: newQuantity,\n                    finalPrice: unitPrice * newQuantity\n                };\n                return updatedCart;\n            } else {\n                // Ensure defaults for direct Quick-Adds\n                const itemToAdd = {\n                    ...newItem,\n                    quantity: newItem.quantity || 1,\n                    finalPrice: newItem.finalPrice || newItem.price, // Trust pre-calculated finalPrice if available, else base\n                    selectedOptions: newItem.selectedOptions || []\n                };\n                return [...prev, itemToAdd];\n            }\n        });\n    };\n\n    const updateQuantity = (index: number, newQuantity: number) => {\n        if (newQuantity < 1) return;\n        setSelection(prev => {\n            const updated = [...prev];\n            const item = updated[index];\n            const unitPrice = item.price;\n            updated[index] = {\n                ...item,\n                quantity: newQuantity,\n                finalPrice: unitPrice * newQuantity\n            };\n            return updated;\n        });\n    };\n\n    const removeFromCart = (index: number) => {\n        setSelection(prev => prev.filter((_, i) => i !== index));\n    };\n\n    const clearCart = () => {\n        setSelection([]);\n    };\n\n    return {\n        selection,\n        addToCart,\n        updateQuantity,\n        removeFromCart,\n        clearCart\n    };\n};\n"],"names":[],"mappings":";;;;AAEA;AAFA;;AAKO,MAAM,UAAU;IACnB,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAa,EAAE;IAEzD,MAAM,YAAY,CAAC;QACf,aAAa,CAAA;YACT,wCAAwC;YACxC,6IAA6I;YAC7I,MAAM,aAAa,QAAQ,EAAE;YAC7B,MAAM,wBAAwB,KAAK,SAAS,CACxC,QAAQ,eAAe,EAAE,KAAK,CAAC,GAAG,IAAM,EAAE,UAAU,CAAC,aAAa,CAAC,EAAE,UAAU,MAAM,EAAE;YAG3F,uEAAuE;YACvE,MAAM,gBAAgB,KAAK,SAAS,CAAC,CAAA;gBACjC,MAAM,aAAa,SAAS,EAAE;gBAC9B,MAAM,wBAAwB,KAAK,SAAS,CACxC,SAAS,eAAe,EAAE,KAAK,CAAC,GAAG,IAAM,EAAE,UAAU,CAAC,aAAa,CAAC,EAAE,UAAU,MAAM,EAAE;gBAE5F,OAAO,eAAe,cAAc,0BAA0B;YAClE;YAEA,qBAAqB;YACrB,IAAI,iBAAiB,GAAG;gBACpB,MAAM,cAAc;uBAAI;iBAAK;gBAC7B,MAAM,eAAe,WAAW,CAAC,cAAc;gBAC/C,MAAM,gBAAgB,QAAQ,QAAQ,IAAI;gBAC1C,MAAM,cAAc,CAAC,aAAa,QAAQ,IAAI,CAAC,IAAI;gBAEnD,oEAAoE;gBACpE,iFAAiF;gBACjF,MAAM,YAAY,aAAa,KAAK;gBAEpC,WAAW,CAAC,cAAc,GAAG;oBACzB,GAAG,YAAY;oBACf,UAAU;oBACV,YAAY,YAAY;gBAC5B;gBACA,OAAO;YACX,OAAO;gBACH,wCAAwC;gBACxC,MAAM,YAAY;oBACd,GAAG,OAAO;oBACV,UAAU,QAAQ,QAAQ,IAAI;oBAC9B,YAAY,QAAQ,UAAU,IAAI,QAAQ,KAAK;oBAC/C,iBAAiB,QAAQ,eAAe,IAAI,EAAE;gBAClD;gBACA,OAAO;uBAAI;oBAAM;iBAAU;YAC/B;QACJ;IACJ;IAEA,MAAM,iBAAiB,CAAC,OAAe;QACnC,IAAI,cAAc,GAAG;QACrB,aAAa,CAAA;YACT,MAAM,UAAU;mBAAI;aAAK;YACzB,MAAM,OAAO,OAAO,CAAC,MAAM;YAC3B,MAAM,YAAY,KAAK,KAAK;YAC5B,OAAO,CAAC,MAAM,GAAG;gBACb,GAAG,IAAI;gBACP,UAAU;gBACV,YAAY,YAAY;YAC5B;YACA,OAAO;QACX;IACJ;IAEA,MAAM,iBAAiB,CAAC;QACpB,aAAa,CAAA,OAAQ,KAAK,MAAM,CAAC,CAAC,GAAG,IAAM,MAAM;IACrD;IAEA,MAAM,YAAY;QACd,aAAa,EAAE;IACnB;IAEA,OAAO;QACH;QACA;QACA;QACA;QACA;IACJ;AACJ"}},
    {"offset": {"line": 412, "column": 0}, "map": {"version":3,"sources":["file:///c:/Users/ASUS/OneDrive/Documentos/Men%C3%BAs%20IA/src/hooks/useCreateOrder.ts"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useCallback } from 'react';\r\nimport { MenuItem } from '@/types';\r\n\r\nexport interface OrderItem {\r\n    dish_id: string | null;\r\n    dish_name: string;\r\n    quantity: number;\r\n    unit_price: number;\r\n    total_price: number;\r\n    notes?: string;\r\n    modifiers?: Array<{\r\n        groupName: string;\r\n        optionName: string;\r\n        price: number;\r\n    }>;\r\n}\r\n\r\nexport interface CreateOrderData {\r\n    tenant_slug: string;\r\n    customer_name: string;\r\n    customer_phone?: string;\r\n    customer_email?: string;\r\n    items: OrderItem[];\r\n    total: number;\r\n    notes?: string;\r\n}\r\n\r\nexport interface CreatedOrder {\r\n    id: string;\r\n    status: string;\r\n    total: number;\r\n    createdAt: string;\r\n    restaurantName: string;\r\n}\r\n\r\ninterface UseCreateOrderReturn {\r\n    order: CreatedOrder | null;\r\n    loading: boolean;\r\n    error: string | null;\r\n    success: boolean;\r\n    createOrder: (orderData: CreateOrderData) => Promise<CreatedOrder | null>;\r\n    resetState: () => void;\r\n}\r\n\r\n// Helper para convertir MenuItem del carrito a OrderItem\r\nexport function menuItemToOrderItem(item: MenuItem, notes?: string): OrderItem {\r\n    return {\r\n        dish_id: item.id,\r\n        dish_name: item.name,\r\n        quantity: item.quantity || 1,\r\n        unit_price: item.price,\r\n        total_price: item.finalPrice || (item.price * (item.quantity || 1)),\r\n        notes: notes,\r\n        modifiers: item.selectedOptions?.map(opt => ({\r\n            groupName: opt.groupName,\r\n            optionName: opt.optionName,\r\n            price: opt.price\r\n        }))\r\n    };\r\n}\r\n\r\nexport function useCreateOrder(): UseCreateOrderReturn {\r\n    const [order, setOrder] = useState<CreatedOrder | null>(null);\r\n    const [loading, setLoading] = useState(false);\r\n    const [error, setError] = useState<string | null>(null);\r\n    const [success, setSuccess] = useState(false);\r\n\r\n    const createOrder = useCallback(async (orderData: CreateOrderData): Promise<CreatedOrder | null> => {\r\n        setLoading(true);\r\n        setError(null);\r\n        setSuccess(false);\r\n\r\n        try {\r\n            const response = await fetch('/api/public/orders', {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                },\r\n                body: JSON.stringify(orderData),\r\n            });\r\n\r\n            const data = await response.json();\r\n\r\n            if (!response.ok) {\r\n                throw new Error(data.error || 'Error al crear pedido');\r\n            }\r\n\r\n            if (data.success && data.order) {\r\n                setOrder(data.order);\r\n                setSuccess(true);\r\n                return data.order;\r\n            }\r\n\r\n            throw new Error('Respuesta inesperada del servidor');\r\n        } catch (err) {\r\n            const errorMessage = err instanceof Error ? err.message : 'Error desconocido';\r\n            setError(errorMessage);\r\n            return null;\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    }, []);\r\n\r\n    const resetState = useCallback(() => {\r\n        setOrder(null);\r\n        setError(null);\r\n        setSuccess(false);\r\n        setLoading(false);\r\n    }, []);\r\n\r\n    return {\r\n        order,\r\n        loading,\r\n        error,\r\n        success,\r\n        createOrder,\r\n        resetState,\r\n    };\r\n}\r\n"],"names":[],"mappings":";;;;;;AAEA;AAFA;;AA+CO,SAAS,oBAAoB,IAAc,EAAE,KAAc;IAC9D,OAAO;QACH,SAAS,KAAK,EAAE;QAChB,WAAW,KAAK,IAAI;QACpB,UAAU,KAAK,QAAQ,IAAI;QAC3B,YAAY,KAAK,KAAK;QACtB,aAAa,KAAK,UAAU,IAAK,KAAK,KAAK,GAAG,CAAC,KAAK,QAAQ,IAAI,CAAC;QACjE,OAAO;QACP,WAAW,KAAK,eAAe,EAAE,IAAI,CAAA,MAAO,CAAC;gBACzC,WAAW,IAAI,SAAS;gBACxB,YAAY,IAAI,UAAU;gBAC1B,OAAO,IAAI,KAAK;YACpB,CAAC;IACL;AACJ;AAEO,SAAS;IACZ,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAsB;IACxD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAgB;IAClD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IAEvC,MAAM,cAAc,IAAA,oNAAW,EAAC,OAAO;QACnC,WAAW;QACX,SAAS;QACT,WAAW;QAEX,IAAI;YACA,MAAM,WAAW,MAAM,MAAM,sBAAsB;gBAC/C,QAAQ;gBACR,SAAS;oBACL,gBAAgB;gBACpB;gBACA,MAAM,KAAK,SAAS,CAAC;YACzB;YAEA,MAAM,OAAO,MAAM,SAAS,IAAI;YAEhC,IAAI,CAAC,SAAS,EAAE,EAAE;gBACd,MAAM,IAAI,MAAM,KAAK,KAAK,IAAI;YAClC;YAEA,IAAI,KAAK,OAAO,IAAI,KAAK,KAAK,EAAE;gBAC5B,SAAS,KAAK,KAAK;gBACnB,WAAW;gBACX,OAAO,KAAK,KAAK;YACrB;YAEA,MAAM,IAAI,MAAM;QACpB,EAAE,OAAO,KAAK;YACV,MAAM,eAAe,eAAe,QAAQ,IAAI,OAAO,GAAG;YAC1D,SAAS;YACT,OAAO;QACX,SAAU;YACN,WAAW;QACf;IACJ,GAAG,EAAE;IAEL,MAAM,aAAa,IAAA,oNAAW,EAAC;QAC3B,SAAS;QACT,SAAS;QACT,WAAW;QACX,WAAW;IACf,GAAG,EAAE;IAEL,OAAO;QACH;QACA;QACA;QACA;QACA;QACA;IACJ;AACJ"}},
    {"offset": {"line": 490, "column": 0}, "map": {"version":3,"sources":["file:///c:/Users/ASUS/OneDrive/Documentos/Men%C3%BAs%20IA/src/components/diner/StoryRail.tsx"],"sourcesContent":["'use client';\n\nimport React from 'react';\nimport { Story } from '@/types';\nimport { Sparkles } from 'lucide-react';\n\ninterface StoryRailProps {\n  stories: Story[];\n  onViewStory: (story: Story) => void;\n  onOpenBrand: () => void;\n}\n\nexport const StoryRail: React.FC<StoryRailProps> = ({ stories, onViewStory, onOpenBrand }) => {\n  return (\n    <div className=\"flex gap-4 md:gap-6 overflow-x-auto px-5 md:px-8 py-6 no-scrollbar snap-x-mandatory scroll-pl-5 md:scroll-pl-8\">\n\n      {/* Brand / \"Our Story\" Highlight */}\n      <div\n        onClick={onOpenBrand}\n        className=\"flex flex-col items-center gap-2.5 cursor-pointer shrink-0 snap-start group\"\n      >\n        {/* Container for the Ring */}\n        <div className=\"relative w-[76px] h-[76px] md:w-[84px] md:h-[84px] flex items-center justify-center\">\n          {/* Rotating Dashed Border */}\n          <div className=\"absolute inset-0 rounded-full border-[1.5px] border-dashed border-brand-primary/40 group-hover:border-brand-primary transition-colors duration-500 animate-[spin_10s_linear_infinite]\"></div>\n\n          {/* Inner Circle */}\n          <div className=\"relative w-[66px] h-[66px] md:w-[74px] md:h-[74px] rounded-full bg-gradient-to-br from-gray-800 to-black flex items-center justify-center border border-white/10 group-hover:border-white/30 transition-all shadow-lg overflow-hidden\">\n            {/* Subtle Shine */}\n            <div className=\"absolute inset-0 bg-white/5 opacity-0 group-hover:opacity-100 transition-opacity\"></div>\n            <span className=\"font-serif font-bold text-2xl md:text-3xl italic text-brand-primary\">M</span>\n\n            {/* Badge */}\n            <div className=\"absolute bottom-1 right-1 bg-brand-primary text-white rounded-full p-1 shadow-sm border border-black/50 z-10\">\n              <Sparkles size={10} fill=\"currentColor\" />\n            </div>\n          </div>\n        </div>\n        <span className=\"text-[10px] md:text-xs font-bold uppercase tracking-widest text-white/60 group-hover:text-white transition-colors\">MenuOS</span>\n      </div>\n\n      {stories.map((story, index) => (\n        <div\n          key={story.id}\n          className=\"flex flex-col items-center gap-2.5 cursor-pointer shrink-0 snap-start group\"\n          onClick={() => onViewStory(story)}\n        >\n          {/* Ring Container */}\n          <div className=\"relative w-[76px] h-[76px] md:w-[84px] md:h-[84px] flex items-center justify-center\">\n\n            {/* Unviewed Gradient Ring - High End Look */}\n            {!story.viewed ? (\n              <div className=\"absolute inset-0 rounded-full bg-gradient-to-tr from-brand-primary via-orange-500 to-brand-primary p-[2px] animate-[spin_4s_linear_infinite]\">\n                <div className=\"w-full h-full bg-black rounded-full\"></div>\n              </div>\n            ) : (\n              /* Viewed Ring (Subtle) */\n              <div className=\"absolute inset-0 rounded-full border border-white/10 group-hover:border-white/20 transition-colors\"></div>\n            )}\n\n            {/* Image Wrapper (Insets the image to show the ring) */}\n            <div className={`\n                absolute inset-[5px] rounded-full overflow-hidden transition-all duration-300 ease-out border bg-gray-900\n                ${!story.viewed\n                ? 'border-black group-hover:inset-[3px]' // Expands slightly on hover if unviewed\n                : 'border-transparent opacity-60 group-hover:opacity-100 grayscale group-hover:grayscale-0'\n              }\n            `}>\n              <img\n                src={story.image}\n                alt={story.title}\n                className=\"w-full h-full object-cover transform transition-transform duration-700 group-hover:scale-110\"\n                loading={index < 4 ? \"eager\" : \"lazy\"}\n                // @ts-ignore\n                fetchPriority={index < 2 ? \"high\" : \"auto\"}\n                decoding=\"async\"\n              />\n            </div>\n          </div>\n\n          <span className={`text-[10px] md:text-xs uppercase tracking-widest truncate max-w-[80px] text-center transition-colors ${!story.viewed ? 'text-white font-bold' : 'text-gray-500 font-medium group-hover:text-gray-300'}`}>\n            {story.title}\n          </span>\n        </div>\n      ))}\n    </div>\n  );\n};\n"],"names":[],"mappings":";;;;;AAIA;AAJA;;;AAYO,MAAM,YAAsC,CAAC,EAAE,OAAO,EAAE,WAAW,EAAE,WAAW,EAAE;IACvF,qBACE,8OAAC;QAAI,WAAU;;0BAGb,8OAAC;gBACC,SAAS;gBACT,WAAU;;kCAGV,8OAAC;wBAAI,WAAU;;0CAEb,8OAAC;gCAAI,WAAU;;;;;;0CAGf,8OAAC;gCAAI,WAAU;;kDAEb,8OAAC;wCAAI,WAAU;;;;;;kDACf,8OAAC;wCAAK,WAAU;kDAAsE;;;;;;kDAGtF,8OAAC;wCAAI,WAAU;kDACb,cAAA,8OAAC,sNAAQ;4CAAC,MAAM;4CAAI,MAAK;;;;;;;;;;;;;;;;;;;;;;;kCAI/B,8OAAC;wBAAK,WAAU;kCAAoH;;;;;;;;;;;;YAGrI,QAAQ,GAAG,CAAC,CAAC,OAAO,sBACnB,8OAAC;oBAEC,WAAU;oBACV,SAAS,IAAM,YAAY;;sCAG3B,8OAAC;4BAAI,WAAU;;gCAGZ,CAAC,MAAM,MAAM,iBACZ,8OAAC;oCAAI,WAAU;8CACb,cAAA,8OAAC;wCAAI,WAAU;;;;;;;;;;+EAGjB,wBAAwB,iBACxB,8OAAC;oCAAI,WAAU;;;;;;8CAIjB,8OAAC;oCAAI,WAAW,CAAC;;gBAEb,EAAE,CAAC,MAAM,MAAM,GACb,uCAAuC,wCAAwC;uCAC/E,0FACH;YACH,CAAC;8CACC,cAAA,8OAAC;wCACC,KAAK,MAAM,KAAK;wCAChB,KAAK,MAAM,KAAK;wCAChB,WAAU;wCACV,SAAS,QAAQ,IAAI,UAAU;wCAC/B,aAAa;wCACb,eAAe,QAAQ,IAAI,SAAS;wCACpC,UAAS;;;;;;;;;;;;;;;;;sCAKf,8OAAC;4BAAK,WAAW,CAAC,qGAAqG,EAAE,CAAC,MAAM,MAAM,GAAG,yBAAyB,uDAAuD;sCACtN,MAAM,KAAK;;;;;;;mBAtCT,MAAM,EAAE;;;;;;;;;;;AA4CvB"}},
    {"offset": {"line": 658, "column": 0}, "map": {"version":3,"sources":["file:///c:/Users/ASUS/OneDrive/Documentos/Men%C3%BAs%20IA/src/lib/utils/format.ts"],"sourcesContent":["\n/**\n * Formateador de moneda exclusivo para Colombia (COP).\n * Elimina decimales y usa separadores de miles (punto).\n */\nexport const formatCurrency = (amount: number): string => {\n  return amount.toLocaleString('es-CO', {\n    minimumFractionDigits: 0,\n    maximumFractionDigits: 0,\n  });\n};\n"],"names":[],"mappings":"AACA;;;CAGC;;;;AACM,MAAM,iBAAiB,CAAC;IAC7B,OAAO,OAAO,cAAc,CAAC,SAAS;QACpC,uBAAuB;QACvB,uBAAuB;IACzB;AACF"}},
    {"offset": {"line": 675, "column": 0}, "map": {"version":3,"sources":["file:///c:/Users/ASUS/OneDrive/Documentos/Men%C3%BAs%20IA/src/components/diner/DishCard.tsx"],"sourcesContent":["'use client';\n\nimport React from 'react';\nimport { MenuItem } from '@/types';\nimport { Plus, ChevronRight } from 'lucide-react';\nimport { formatCurrency } from '@/lib/utils/format';\n\ninterface DishCardProps {\n  item: MenuItem;\n  onClick: (item: MenuItem) => void;\n  onAdd?: (item: MenuItem) => void;\n  layout?: 'vertical' | 'horizontal';\n  className?: string;\n  currency?: string;\n}\n\nexport const DishCard: React.FC<DishCardProps> = ({\n  item,\n  onClick,\n  onAdd,\n  layout = 'vertical',\n  className = '',\n  currency = '$'\n}) => {\n  const isHorizontal = layout === 'horizontal';\n\n  // LOGIC FIX: Check if item has required modifiers\n  const hasRequiredModifiers = item.modifiers?.some(group => group.minSelection > 0);\n\n  // Quick Add Handler\n  const handleQuickAdd = (e: React.MouseEvent) => {\n    e.stopPropagation(); // Prevent opening modal\n\n    // If it has required modifiers, we MUST open the modal instead of adding directly\n    if (hasRequiredModifiers) {\n      onClick(item);\n      return;\n    }\n\n    if (onAdd && item.available) onAdd(item);\n  };\n\n  if (isHorizontal) {\n    return (\n      <div\n        onClick={() => onClick(item)}\n        className={`group flex items-center gap-4 py-4 border-b border-dashed border-white/10 hover:bg-white/[0.03] transition-all cursor-pointer rounded-xl px-2 -mx-2 ${className}`}\n      >\n        <div className=\"relative h-20 w-20 flex-shrink-0 overflow-hidden rounded-2xl bg-gray-900 shadow-lg\">\n          <img\n            src={item.image}\n            alt={item.name}\n            className=\"h-full w-full object-cover transition-transform duration-700 group-hover:scale-110 opacity-80 group-hover:opacity-100\"\n            loading=\"lazy\"\n            decoding=\"async\"\n          />\n        </div>\n\n        <div className=\"flex-1 min-w-0 flex flex-col justify-center\">\n          <div className=\"flex justify-between items-start mb-1\">\n            <h3 className=\"font-serif text-lg text-white font-medium italic truncate pr-2 group-hover:text-brand-primary transition-colors\">{item.name}</h3>\n            <span className=\"font-sans text-sm font-bold text-white tracking-wide\">{currency} {formatCurrency(item.price)}</span>\n          </div>\n          <p className=\"text-[10px] text-gray-500 line-clamp-1 font-medium tracking-[0.1em] uppercase mb-2\">{item.description}</p>\n\n          {/* Horizontal specific: Quick action hint */}\n          <div className=\"flex items-center justify-between mt-1\">\n            <div className=\"flex gap-1\">\n              {item.tags.slice(0, 2).map(tag => (\n                <span key={tag} className=\"text-[8px] border border-white/10 text-gray-500 px-1.5 py-0.5 rounded-md uppercase tracking-wider\">{tag}</span>\n              ))}\n            </div>\n            {item.available && (\n              <button\n                onClick={handleQuickAdd}\n                className={`w-8 h-8 rounded-full border flex items-center justify-center transition-all active:scale-90\n                            ${hasRequiredModifiers\n                    ? 'border-white/10 text-white/50 hover:bg-white hover:text-black' // Opens detail\n                    : 'border-white/20 text-white/50 hover:bg-brand-primary hover:border-brand-primary hover:text-white' // Adds directly\n                  }\n                        `}\n              >\n                {hasRequiredModifiers ? <ChevronRight size={14} /> : <Plus size={14} />}\n              </button>\n            )}\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  // Vertical Layout (Gallery Style)\n  return (\n    <div\n      onClick={() => onClick(item)}\n      className={`group relative flex flex-col flex-shrink-0 cursor-pointer ${className}`}\n    >\n      <div className=\"relative aspect-[3/4] w-full overflow-hidden rounded-[2rem] bg-gray-900 shadow-2xl ring-1 ring-white/5 transition-all duration-500 group-hover:shadow-brand-primary/10 group-hover:ring-white/20\">\n        <img\n          src={item.image}\n          alt={item.name}\n          className=\"absolute inset-0 h-full w-full object-cover transition-transform duration-1000 ease-out group-hover:scale-110 opacity-80 group-hover:opacity-100\"\n          loading=\"lazy\"\n          decoding=\"async\"\n        />\n\n        {/* Subtle Gradient Overlay */}\n        <div className=\"absolute inset-0 bg-gradient-to-t from-black/90 via-black/20 to-transparent opacity-60 transition-opacity group-hover:opacity-40\"></div>\n\n        {/* Floating Price Pill */}\n        <div className=\"absolute top-4 right-4 bg-white/10 backdrop-blur-md px-3 py-1.5 rounded-full border border-white/10 shadow-lg z-10\">\n          <span className=\"text-xs font-medium text-white tracking-widest\">{currency} {formatCurrency(item.price)}</span>\n        </div>\n\n        {/* Badges */}\n        <div className=\"absolute top-4 left-4 flex flex-col gap-2 z-10\">\n          {item.popular && <span className=\"w-fit text-[8px] font-bold uppercase tracking-widest text-black bg-white/90 backdrop-blur px-2 py-1 rounded-lg shadow-lg\">Popular</span>}\n          {item.chefChoice && <span className=\"w-fit text-[8px] font-bold uppercase tracking-widest text-white bg-brand-primary/90 backdrop-blur px-2 py-1 rounded-lg shadow-lg\">Chef's</span>}\n        </div>\n      </div>\n\n      <div className=\"mt-5 px-2 text-center transition-transform duration-500 group-hover:-translate-y-1\">\n        <p className=\"text-[9px] text-brand-primary uppercase tracking-[0.3em] font-bold mb-2 opacity-80\">{item.category}</p>\n        <h3 className=\"text-xl font-serif text-white leading-none italic group-hover:text-brand-primary transition-colors\">{item.name}</h3>\n      </div>\n    </div>\n  );\n};\n"],"names":[],"mappings":";;;;;AAIA;AAAA;AACA;AALA;;;;AAgBO,MAAM,WAAoC,CAAC,EAChD,IAAI,EACJ,OAAO,EACP,KAAK,EACL,SAAS,UAAU,EACnB,YAAY,EAAE,EACd,WAAW,GAAG,EACf;IACC,MAAM,eAAe,WAAW;IAEhC,kDAAkD;IAClD,MAAM,uBAAuB,KAAK,SAAS,EAAE,KAAK,CAAA,QAAS,MAAM,YAAY,GAAG;IAEhF,oBAAoB;IACpB,MAAM,iBAAiB,CAAC;QACtB,EAAE,eAAe,IAAI,wBAAwB;QAE7C,kFAAkF;QAClF,IAAI,sBAAsB;YACxB,QAAQ;YACR;QACF;QAEA,IAAI,SAAS,KAAK,SAAS,EAAE,MAAM;IACrC;IAEA,IAAI,cAAc;QAChB,qBACE,8OAAC;YACC,SAAS,IAAM,QAAQ;YACvB,WAAW,CAAC,oJAAoJ,EAAE,WAAW;;8BAE7K,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC;wBACC,KAAK,KAAK,KAAK;wBACf,KAAK,KAAK,IAAI;wBACd,WAAU;wBACV,SAAQ;wBACR,UAAS;;;;;;;;;;;8BAIb,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAG,WAAU;8CAAmH,KAAK,IAAI;;;;;;8CAC1I,8OAAC;oCAAK,WAAU;;wCAAwD;wCAAS;wCAAE,IAAA,+IAAc,EAAC,KAAK,KAAK;;;;;;;;;;;;;sCAE9G,8OAAC;4BAAE,WAAU;sCAAsF,KAAK,WAAW;;;;;;sCAGnH,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAI,WAAU;8CACZ,KAAK,IAAI,CAAC,KAAK,CAAC,GAAG,GAAG,GAAG,CAAC,CAAA,oBACzB,8OAAC;4CAAe,WAAU;sDAAqG;2CAApH;;;;;;;;;;gCAGd,KAAK,SAAS,kBACb,8OAAC;oCACC,SAAS;oCACT,WAAW,CAAC;4BACA,EAAE,uBACR,gEAAgE,eAAe;uCAC/E,mGAAmG,gBAAgB;qCACtH;wBACK,CAAC;8CAER,qCAAuB,8OAAC,sOAAY;wCAAC,MAAM;;;;;iGAAS,8OAAC,0MAAI;wCAAC,MAAM;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAO/E;IAEA,kCAAkC;IAClC,qBACE,8OAAC;QACC,SAAS,IAAM,QAAQ;QACvB,WAAW,CAAC,0DAA0D,EAAE,WAAW;;0BAEnF,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBACC,KAAK,KAAK,KAAK;wBACf,KAAK,KAAK,IAAI;wBACd,WAAU;wBACV,SAAQ;wBACR,UAAS;;;;;;kCAIX,8OAAC;wBAAI,WAAU;;;;;;kCAGf,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC;4BAAK,WAAU;;gCAAkD;gCAAS;gCAAE,IAAA,+IAAc,EAAC,KAAK,KAAK;;;;;;;;;;;;kCAIxG,8OAAC;wBAAI,WAAU;;4BACZ,KAAK,OAAO,kBAAI,8OAAC;gCAAK,WAAU;0CAA2H;;;;;;4BAC3J,KAAK,UAAU,kBAAI,8OAAC;gCAAK,WAAU;0CAAmI;;;;;;;;;;;;;;;;;;0BAI3K,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAE,WAAU;kCAAsF,KAAK,QAAQ;;;;;;kCAChH,8OAAC;wBAAG,WAAU;kCAAsG,KAAK,IAAI;;;;;;;;;;;;;;;;;;AAIrI"}},
    {"offset": {"line": 938, "column": 0}, "map": {"version":3,"sources":["file:///c:/Users/ASUS/OneDrive/Documentos/Men%C3%BAs%20IA/src/components/diner/HeroSection.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React from 'react';\r\nimport { ArrowRight, Star } from 'lucide-react';\r\nimport { MenuItem } from '@/types';\r\n\r\ninterface HeroSectionProps {\r\n    item: MenuItem;\r\n    onClick: (item: MenuItem) => void;\r\n}\r\n\r\nexport const HeroSection: React.FC<HeroSectionProps> = ({ item, onClick }) => {\r\n    return (\r\n        <section className=\"px-6 animate-fade-in mb-8\">\r\n            <div\r\n                onClick={() => onClick(item)}\r\n                // CHANGED: aspect-[3/4] -> aspect-[4/3] for mobile. Much better for visibility of content below.\r\n                className=\"relative w-full aspect-[4/3] md:aspect-[21/9] rounded-[2rem] overflow-hidden group cursor-pointer border border-white/5 shadow-2xl\"\r\n            >\r\n                <img\r\n                    src={item.image}\r\n                    className=\"w-full h-full object-cover transition-transform duration-[2s] group-hover:scale-105 opacity-80\"\r\n                    alt=\"Hero\"\r\n                    loading=\"eager\"\r\n                    // @ts-ignore\r\n                    fetchPriority=\"high\"\r\n                />\r\n\r\n                {/* Cinematic Overlays */}\r\n                <div className=\"absolute inset-0 bg-gradient-to-t from-black via-black/20 to-transparent opacity-90\"></div>\r\n\r\n                {/* Floating Badge */}\r\n                <div className=\"absolute top-4 right-4 md:top-8 md:right-8\">\r\n                    <div className=\"bg-white/10 backdrop-blur-xl border border-white/10 rounded-full px-3 py-1.5 md:px-5 md:py-2 flex items-center gap-2 shadow-lg\">\r\n                        <Star size={10} className=\"text-brand-primary fill-brand-primary\" />\r\n                        <span className=\"text-[8px] md:text-[9px] font-bold uppercase tracking-[0.2em] text-white\">Elección del Chef</span>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Content - Adjusted padding and text size for smaller container */}\r\n                <div className=\"absolute bottom-0 left-0 right-0 p-6 md:p-10 text-white flex flex-col justify-end h-full\">\r\n                    <h2 className=\"text-3xl md:text-6xl font-serif italic mb-2 md:mb-4 text-white/95 leading-none tracking-tight\">{item.name}</h2>\r\n                    <p className=\"text-gray-300 line-clamp-2 mb-4 md:mb-8 font-light text-xs md:text-sm tracking-wide max-w-lg opacity-80\">{item.description}</p>\r\n\r\n                    <div>\r\n                        <div className=\"inline-flex items-center gap-3 text-[9px] md:text-[10px] font-bold uppercase tracking-[0.3em] text-white border-b border-white/30 pb-1 group-hover:border-brand-primary transition-colors\">\r\n                            Explorar <ArrowRight size={12} />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </section>\r\n    );\r\n};\r\n"],"names":[],"mappings":";;;;;AAGA;AAAA;AAHA;;;AAWO,MAAM,cAA0C,CAAC,EAAE,IAAI,EAAE,OAAO,EAAE;IACrE,qBACI,8OAAC;QAAQ,WAAU;kBACf,cAAA,8OAAC;YACG,SAAS,IAAM,QAAQ;YACvB,iGAAiG;YACjG,WAAU;;8BAEV,8OAAC;oBACG,KAAK,KAAK,KAAK;oBACf,WAAU;oBACV,KAAI;oBACJ,SAAQ;oBACR,aAAa;oBACb,eAAc;;;;;;8BAIlB,8OAAC;oBAAI,WAAU;;;;;;8BAGf,8OAAC;oBAAI,WAAU;8BACX,cAAA,8OAAC;wBAAI,WAAU;;0CACX,8OAAC,0MAAI;gCAAC,MAAM;gCAAI,WAAU;;;;;;0CAC1B,8OAAC;gCAAK,WAAU;0CAA2E;;;;;;;;;;;;;;;;;8BAKnG,8OAAC;oBAAI,WAAU;;sCACX,8OAAC;4BAAG,WAAU;sCAAiG,KAAK,IAAI;;;;;;sCACxH,8OAAC;4BAAE,WAAU;sCAA2G,KAAK,WAAW;;;;;;sCAExI,8OAAC;sCACG,cAAA,8OAAC;gCAAI,WAAU;;oCAA4L;kDAC9L,8OAAC,gOAAU;wCAAC,MAAM;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOvD"}},
    {"offset": {"line": 1071, "column": 0}, "map": {"version":3,"sources":["file:///c:/Users/ASUS/OneDrive/Documentos/Men%C3%BAs%20IA/src/components/diner/DinerHeader.tsx"],"sourcesContent":["'use client';\n\nimport React from 'react';\nimport { RestaurantConfig } from '@/types';\nimport { Info, Clock, MapPin } from 'lucide-react';\n\ninterface DinerHeaderProps {\n  config: RestaurantConfig;\n  onOpenInfo: () => void;\n}\n\nexport const DinerHeader: React.FC<DinerHeaderProps> = ({ config, onOpenInfo }) => {\n  return (\n    <div className=\"relative w-full h-44 md:h-52 overflow-hidden shadow-2xl z-20 group\">\n\n      {/* 1. BACKGROUND IMAGE (Representative) */}\n      <img\n        src={config.coverImage}\n        alt=\"Restaurant Cover\"\n        className=\"absolute inset-0 w-full h-full object-cover transform transition-transform duration-[3s] group-hover:scale-105\"\n      />\n\n      {/* 2. GRADIENT OVERLAY (Contrast for text) */}\n      <div className=\"absolute inset-0 bg-gradient-to-t from-[#030712] via-[#030712]/60 to-transparent\"></div>\n\n      {/* 3. CONTENT ROW (Bottom Aligned) */}\n      <div className=\"absolute bottom-0 left-0 w-full p-5 md:px-8 pb-4 flex items-end gap-4\">\n\n        {/* A. LOGO (Left Bottom) */}\n        <div className=\"relative shrink-0\">\n          <div className=\"w-14 h-14 rounded-full border-2 border-white/10 bg-black/40 backdrop-blur-md flex items-center justify-center shadow-[0_4px_12px_rgba(0,0,0,0.3)] overflow-hidden\">\n            {config.logo ? (\n              <img src={config.logo} className=\"w-full h-full object-cover\" alt=\"Logo\" />\n            ) : (\n              <span className=\"font-serif italic font-bold text-2xl text-brand-primary\">\n                {config.name.charAt(0)}\n              </span>\n            )}\n          </div>\n          {/* Open Status Indicator Dot on Logo */}\n          <div className=\"absolute bottom-0 right-0 w-3.5 h-3.5 bg-emerald-500 border-2 border-[#030712] rounded-full\"></div>\n        </div>\n\n        {/* B. INFO (Name & Status) */}\n        <div className=\"flex-1 min-w-0 mb-0.5\">\n          <h1 className=\"text-xl md:text-2xl font-serif font-bold text-white leading-tight drop-shadow-md truncate\">\n            {config.name}\n          </h1>\n\n          <div className=\"flex items-center gap-3 mt-1 text-xs font-medium text-gray-300\">\n            <span className=\"flex items-center gap-1.5 text-emerald-400 bg-emerald-400/10 px-2 py-0.5 rounded-[4px] backdrop-blur-sm border border-emerald-400/20\">\n              <Clock size={10} strokeWidth={3} />\n              <span className=\"uppercase tracking-wider text-[9px] font-bold\">Abierto</span>\n            </span>\n            <span className=\"w-0.5 h-0.5 rounded-full bg-gray-500\"></span>\n            <span className=\"flex items-center gap-1 opacity-80 truncate\">\n              <MapPin size={10} />\n              <span className=\"uppercase tracking-wider text-[9px]\">Bogotá</span>\n            </span>\n          </div>\n        </div>\n\n        {/* C. INFO BUTTON (Right Bottom) */}\n        <button\n          onClick={onOpenInfo}\n          className=\"mb-1 p-2 rounded-full bg-white/10 border border-white/10 backdrop-blur-md text-white/80 hover:bg-white/20 hover:text-white transition-all active:scale-95 shadow-lg\"\n          aria-label=\"Información del restaurante\"\n        >\n          <Info size={18} />\n        </button>\n      </div>\n    </div>\n  );\n};\n"],"names":[],"mappings":";;;;;AAIA;AAAA;AAAA;AAJA;;;AAWO,MAAM,cAA0C,CAAC,EAAE,MAAM,EAAE,UAAU,EAAE;IAC5E,qBACE,8OAAC;QAAI,WAAU;;0BAGb,8OAAC;gBACC,KAAK,OAAO,UAAU;gBACtB,KAAI;gBACJ,WAAU;;;;;;0BAIZ,8OAAC;gBAAI,WAAU;;;;;;0BAGf,8OAAC;gBAAI,WAAU;;kCAGb,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAI,WAAU;0CACZ,OAAO,IAAI,iBACV,8OAAC;oCAAI,KAAK,OAAO,IAAI;oCAAE,WAAU;oCAA6B,KAAI;;;;;6FAElE,8OAAC;oCAAK,WAAU;8CACb,OAAO,IAAI,CAAC,MAAM,CAAC;;;;;;;;;;;0CAK1B,8OAAC;gCAAI,WAAU;;;;;;;;;;;;kCAIjB,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAG,WAAU;0CACX,OAAO,IAAI;;;;;;0CAGd,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAK,WAAU;;0DACd,8OAAC,6MAAK;gDAAC,MAAM;gDAAI,aAAa;;;;;;0DAC9B,8OAAC;gDAAK,WAAU;0DAAgD;;;;;;;;;;;;kDAElE,8OAAC;wCAAK,WAAU;;;;;;kDAChB,8OAAC;wCAAK,WAAU;;0DACd,8OAAC,oNAAM;gDAAC,MAAM;;;;;;0DACd,8OAAC;gDAAK,WAAU;0DAAsC;;;;;;;;;;;;;;;;;;;;;;;;kCAM5D,8OAAC;wBACC,SAAS;wBACT,WAAU;wBACV,cAAW;kCAEX,cAAA,8OAAC,0MAAI;4BAAC,MAAM;;;;;;;;;;;;;;;;;;;;;;;AAKtB"}},
    {"offset": {"line": 1259, "column": 0}, "map": {"version":3,"sources":["file:///c:/Users/ASUS/OneDrive/Documentos/Men%C3%BAs%20IA/src/components/diner/DinerNavbar.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState } from 'react';\nimport { Search, X, TrendingUp, Tag } from 'lucide-react';\nimport { CATEGORIES } from '@/lib/constants';\n\ninterface DinerNavbarProps {\n    scrolled: boolean;\n    searchQuery: string;\n    setSearchQuery: (query: string) => void;\n    selectedCategory: string;\n    setSelectedCategory: (id: string) => void;\n}\n\nexport const DinerNavbar: React.FC<DinerNavbarProps> = ({\n    scrolled,\n    searchQuery,\n    setSearchQuery,\n    selectedCategory,\n    setSelectedCategory\n}) => {\n    const [isFocused, setIsFocused] = useState(false);\n\n    // Updated Tags to match Mock Data and LatAm context\n    const QUICK_TAGS = ['Popular', 'Picante', 'Premium', 'Vegetariano', 'Nuevo', 'Vino'];\n\n    // Handle clicking a tag\n    const handleTagClick = (tag: string) => {\n        setSearchQuery(tag);\n        // Keep focus logic smooth\n        setTimeout(() => setIsFocused(false), 100);\n    };\n\n    return (\n        <header className={`sticky top-0 z-50 transition-all duration-700 ease-[cubic-bezier(0.23,1,0.32,1)] ${scrolled ? 'bg-[#030712]/80 backdrop-blur-2xl pt-2 pb-2 border-b border-white/5 shadow-2xl' : 'pt-1 pb-1 bg-transparent'}`}>\n            <div className=\"px-6\">\n                {/* Search Bar Container - Tightened margins for compact feel */}\n                <div className={`relative group transition-all duration-500 ease-out ${scrolled ? 'mb-1' : 'mb-2'}`}>\n\n                    {/* Input Wrapper */}\n                    <div className=\"relative z-20\">\n                        <div className={`absolute inset-y-0 left-0 pl-5 flex items-center pointer-events-none z-10 transition-colors duration-300 ${isFocused ? 'text-brand-primary' : 'text-white/30'}`}>\n                            <Search size={14} strokeWidth={2.5} />\n                        </div>\n                        <input\n                            type=\"text\"\n                            placeholder={isFocused ? \"Busca 'Trufa', 'Picante'...\" : \"Buscar en la colección...\"}\n                            value={searchQuery}\n                            onFocus={() => setIsFocused(true)}\n                            onBlur={() => setTimeout(() => setIsFocused(false), 200)}\n                            onChange={(e) => setSearchQuery(e.target.value)}\n                            className={`\n                    w-full text-white placeholder-white/20 rounded-full py-3.5 pl-12 pr-4 text-xs font-medium tracking-wide\n                    focus:outline-none transition-all duration-500 backdrop-blur-md relative z-0\n                    ${isFocused\n                                    ? 'bg-white/10 border-white/20 shadow-[0_0_30px_rgba(255,255,255,0.05)] ring-1 ring-white/10'\n                                    : 'bg-white/5 border-white/5 border hover:bg-white/10 hover:border-white/10'}\n                `}\n                        />\n                        {searchQuery && (\n                            <button onClick={() => setSearchQuery('')} className=\"absolute right-4 top-3.5 text-white/40 hover:text-white transition-colors z-10\">\n                                <X size={14} />\n                            </button>\n                        )}\n                    </div>\n\n                    {/* Power Search Suggestions - Accordion Animation */}\n                    <div className={`\n                overflow-hidden transition-all duration-500 ease-[cubic-bezier(0.23,1,0.32,1)]\n                ${isFocused && !searchQuery ? 'max-h-20 opacity-100 mt-4' : 'max-h-0 opacity-0 mt-0'}\n            `}>\n                        <div className=\"flex gap-2 overflow-x-auto no-scrollbar py-1 pl-1\">\n                            <div className=\"flex items-center gap-1.5 text-[8px] font-bold text-gray-500 uppercase tracking-widest mr-2 shrink-0\">\n                                <TrendingUp size={10} className=\"text-brand-primary\" /> Tendencias\n                            </div>\n                            {QUICK_TAGS.map(tag => (\n                                <button\n                                    key={tag}\n                                    onMouseDown={(e) => e.preventDefault()} // Critical: Prevents blur before click\n                                    onClick={() => handleTagClick(tag)}\n                                    className=\"shrink-0 flex items-center gap-1.5 px-3 py-1.5 rounded-full bg-white/5 hover:bg-white/10 border border-white/5 hover:border-white/20 text-[9px] font-medium tracking-wide text-gray-300 hover:text-white transition-all backdrop-blur-md group\"\n                                >\n                                    <Tag size={8} className=\"opacity-40 group-hover:text-brand-primary transition-colors\" /> {tag}\n                                </button>\n                            ))}\n                        </div>\n                    </div>\n                </div>\n\n                {/* Categories - Minimalist Pills */}\n                <div className={`\n            flex space-x-3 overflow-x-auto pb-1 no-scrollbar snap-x-mandatory scroll-pl-6 mask-fade-right \n            transition-all duration-500 ease-out will-change-transform\n            ${isFocused ? 'opacity-20 blur-[2px] scale-[0.98] origin-top' : 'opacity-100 blur-0 scale-100 origin-top'}\n         `}>\n                    <button\n                        onClick={() => setSelectedCategory('all')}\n                        className={`\n                    px-5 py-2 rounded-full text-[9px] font-bold tracking-[0.2em] whitespace-nowrap transition-all duration-300 snap-start border backdrop-blur-md\n                    ${selectedCategory === 'all'\n                                ? 'bg-white text-black border-white shadow-[0_0_20px_rgba(255,255,255,0.2)]'\n                                : 'bg-white/5 border-white/5 text-gray-400 hover:text-white hover:bg-white/10 hover:border-white/20'}\n                `}\n                    >\n                        TODOS\n                    </button>\n                    {CATEGORIES.map(cat => (\n                        <button\n                            key={cat.id}\n                            onClick={() => setSelectedCategory(cat.id)}\n                            className={`\n                    px-5 py-2 rounded-full text-[9px] font-bold tracking-[0.2em] whitespace-nowrap transition-all duration-300 snap-start border backdrop-blur-md\n                    ${selectedCategory === cat.id\n                                    ? 'bg-white text-black border-white shadow-[0_0_20px_rgba(255,255,255,0.2)]'\n                                    : 'bg-white/5 border-white/5 text-gray-400 hover:text-white hover:bg-white/10 hover:border-white/20'}\n                `}\n                        >\n                            {cat.name.toUpperCase()}\n                        </button>\n                    ))}\n                </div>\n            </div>\n        </header>\n    );\n};\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AAAA;AAAA;AACA;AAJA;;;;;AAcO,MAAM,cAA0C,CAAC,EACpD,QAAQ,EACR,WAAW,EACX,cAAc,EACd,gBAAgB,EAChB,mBAAmB,EACtB;IACG,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAC;IAE3C,oDAAoD;IACpD,MAAM,aAAa;QAAC;QAAW;QAAW;QAAW;QAAe;QAAS;KAAO;IAEpF,wBAAwB;IACxB,MAAM,iBAAiB,CAAC;QACpB,eAAe;QACf,0BAA0B;QAC1B,WAAW,IAAM,aAAa,QAAQ;IAC1C;IAEA,qBACI,8OAAC;QAAO,WAAW,CAAC,iFAAiF,EAAE,WAAW,mFAAmF,4BAA4B;kBAC7N,cAAA,8OAAC;YAAI,WAAU;;8BAEX,8OAAC;oBAAI,WAAW,CAAC,oDAAoD,EAAE,WAAW,SAAS,QAAQ;;sCAG/F,8OAAC;4BAAI,WAAU;;8CACX,8OAAC;oCAAI,WAAW,CAAC,yGAAyG,EAAE,YAAY,uBAAuB,iBAAiB;8CAC5K,cAAA,8OAAC,gNAAM;wCAAC,MAAM;wCAAI,aAAa;;;;;;;;;;;8CAEnC,8OAAC;oCACG,MAAK;oCACL,aAAa,YAAY,gCAAgC;oCACzD,OAAO;oCACP,SAAS,IAAM,aAAa;oCAC5B,QAAQ,IAAM,WAAW,IAAM,aAAa,QAAQ;oCACpD,UAAU,CAAC,IAAM,eAAe,EAAE,MAAM,CAAC,KAAK;oCAC9C,WAAW,CAAC;;;oBAGpB,EAAE,YACgB,8FACA,2EAA2E;gBACjG,CAAC;;;;;;gCAEQ,6BACG,8OAAC;oCAAO,SAAS,IAAM,eAAe;oCAAK,WAAU;8CACjD,cAAA,8OAAC,iMAAC;wCAAC,MAAM;;;;;;;;;;;;;;;;;sCAMrB,8OAAC;4BAAI,WAAW,CAAC;;gBAErB,EAAE,aAAa,CAAC,cAAc,8BAA8B,yBAAyB;YACzF,CAAC;sCACW,cAAA,8OAAC;gCAAI,WAAU;;kDACX,8OAAC;wCAAI,WAAU;;0DACX,8OAAC,gOAAU;gDAAC,MAAM;gDAAI,WAAU;;;;;;4CAAuB;;;;;;;oCAE1D,WAAW,GAAG,CAAC,CAAA,oBACZ,8OAAC;4CAEG,aAAa,CAAC,IAAM,EAAE,cAAc;4CACpC,SAAS,IAAM,eAAe;4CAC9B,WAAU;;8DAEV,8OAAC,uMAAG;oDAAC,MAAM;oDAAG,WAAU;;;;;;gDAAgE;gDAAE;;2CALrF;;;;;;;;;;;;;;;;;;;;;;8BAazB,8OAAC;oBAAI,WAAW,CAAC;;;YAGrB,EAAE,YAAY,kDAAkD,0CAA0C;SAC7G,CAAC;;sCACU,8OAAC;4BACG,SAAS,IAAM,oBAAoB;4BACnC,WAAW,CAAC;;oBAEhB,EAAE,qBAAqB,QACT,6EACA,mGAAmG;gBACrH,CAAC;sCACI;;;;;;wBAGA,qIAAU,CAAC,GAAG,CAAC,CAAA,oBACZ,8OAAC;gCAEG,SAAS,IAAM,oBAAoB,IAAI,EAAE;gCACzC,WAAW,CAAC;;oBAEpB,EAAE,qBAAqB,IAAI,EAAE,GACX,6EACA,mGAAmG;gBACzH,CAAC;0CAEY,IAAI,IAAI,CAAC,WAAW;+BAThB,IAAI,EAAE;;;;;;;;;;;;;;;;;;;;;;AAgBvC"}},
    {"offset": {"line": 1473, "column": 0}, "map": {"version":3,"sources":["file:///c:/Users/ASUS/OneDrive/Documentos/Men%C3%BAs%20IA/src/components/diner/DinerFooter.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React from 'react';\r\n\r\nexport const DinerFooter: React.FC = () => {\r\n  return (\r\n    <footer className=\"pt-12 pb-32 px-6 text-center animate-fade-in opacity-60\">\r\n      <div className=\"w-8 h-8 mx-auto bg-white/5 border border-white/10 rounded-full flex items-center justify-center mb-6\">\r\n        <span className=\"font-serif italic font-bold text-brand-primary\">M</span>\r\n      </div>\r\n      <p className=\"text-[10px] text-gray-500 uppercase tracking-[0.3em] mb-2\">Experiencia Culinaria</p>\r\n      <p className=\"text-[10px] text-gray-600 font-serif italic\">Designed by MenuOS AI</p>\r\n    </footer>\r\n  );\r\n};\r\n"],"names":[],"mappings":";;;;;AAAA;;AAIO,MAAM,cAAwB;IACnC,qBACE,8OAAC;QAAO,WAAU;;0BAChB,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAK,WAAU;8BAAiD;;;;;;;;;;;0BAEnE,8OAAC;gBAAE,WAAU;0BAA4D;;;;;;0BACzE,8OAAC;gBAAE,WAAU;0BAA8C;;;;;;;;;;;;AAGjE"}},
    {"offset": {"line": 1526, "column": 0}, "map": {"version":3,"sources":["file:///c:/Users/ASUS/OneDrive/Documentos/Men%C3%BAs%20IA/src/components/diner/StoryViewer.tsx"],"sourcesContent":["'use client';\n\nimport React, { useEffect, useState, useCallback } from 'react';\nimport { X, ChevronRight } from 'lucide-react';\nimport { Story } from '@/types';\n\ninterface StoryViewerProps {\n    stories: Story[];\n    initialStoryId: string;\n    onClose: () => void;\n    onAction: (linkedItemId: string) => void;\n}\n\nexport const StoryViewer: React.FC<StoryViewerProps> = ({ stories, initialStoryId, onClose, onAction }) => {\n    // Encuentra el índice inicial basado en el ID\n    const startIndex = stories.findIndex(s => s.id === initialStoryId);\n\n    const [currentIndex, setCurrentIndex] = useState(startIndex !== -1 ? startIndex : 0);\n    const [progress, setProgress] = useState(0);\n    const [isPaused, setIsPaused] = useState(false);\n\n    // Referencia para saber si el componente está montado\n    const activeStory = stories[currentIndex];\n\n    // --- NAVIGATION LOGIC ---\n\n    const handleNext = useCallback(() => {\n        if (currentIndex < stories.length - 1) {\n            setCurrentIndex(prev => prev + 1);\n            setProgress(0);\n        } else {\n            onClose(); // Cierra si es la última historia\n        }\n    }, [currentIndex, stories.length, onClose]);\n\n    const handlePrev = useCallback(() => {\n        if (currentIndex > 0) {\n            setCurrentIndex(prev => prev - 1);\n            setProgress(0);\n        } else {\n            // Si es la primera, reiniciar progreso\n            setProgress(0);\n        }\n    }, [currentIndex]);\n\n    // --- TIMER ENGINE ---\n\n    useEffect(() => {\n        if (isPaused) return;\n\n        const intervalTime = 20; // ms per tick (smoother 50fps)\n        const totalDuration = 5000; // 5 segundos por historia\n        const increment = (intervalTime / totalDuration) * 100;\n\n        const timer = setInterval(() => {\n            setProgress(prev => {\n                if (prev >= 100) {\n                    handleNext();\n                    return 0;\n                }\n                return prev + increment;\n            });\n        }, intervalTime);\n\n        return () => clearInterval(timer);\n    }, [currentIndex, isPaused, handleNext]);\n\n    // --- KEYBOARD SUPPORT ---\n    useEffect(() => {\n        const handleKeyDown = (e: KeyboardEvent) => {\n            if (e.key === 'ArrowRight') handleNext();\n            if (e.key === 'ArrowLeft') handlePrev();\n            if (e.key === 'Escape') onClose();\n            if (e.key === ' ') { // Space to pause/resume logic could go here\n                setIsPaused(prev => !prev);\n            }\n        };\n        window.addEventListener('keydown', handleKeyDown);\n        return () => window.removeEventListener('keydown', handleKeyDown);\n    }, [handleNext, handlePrev, onClose]);\n\n    if (!activeStory) return null;\n\n    return (\n        <div\n            className=\"fixed inset-0 z-[70] bg-black flex flex-col animate-fade-in touch-none select-none\"\n            onContextMenu={(e) => e.preventDefault()} // Prevents right-click/long-press menu\n        >\n\n            {/* BACKGROUND BLUR (Optional aesthetic) */}\n            <div className=\"absolute inset-0 z-0 opacity-40 blur-3xl scale-125\">\n                <img src={activeStory.image} className=\"w-full h-full object-cover\" alt=\"\" />\n            </div>\n\n            {/* MAIN IMAGE */}\n            <div className=\"absolute inset-0 z-10 bg-black\">\n                <img\n                    key={activeStory.id} // Key change forces animation restart\n                    src={activeStory.image}\n                    className={`w-full h-full object-cover transition-transform duration-[10s] ease-linear ${isPaused ? 'scale-100' : 'scale-110'}`}\n                    alt={activeStory.title}\n                />\n                {/* Cinematic Vignette */}\n                <div className=\"absolute inset-0 bg-gradient-to-b from-black/80 via-transparent to-black/90 pointer-events-none\"></div>\n            </div>\n\n            {/* UI OVERLAY (Safe Area) */}\n            <div className=\"relative z-20 flex-1 flex flex-col justify-between pb-10 pt-4 px-4 pointer-events-none\">\n\n                {/* HEADER: Progress Bars & Close */}\n                <div className=\"flex flex-col gap-4 pointer-events-auto\">\n                    {/* Segmented Progress Bar */}\n                    <div className=\"flex gap-1.5 h-1\">\n                        {stories.map((story, index) => (\n                            <div key={story.id} className=\"flex-1 bg-white/20 rounded-full overflow-hidden h-full backdrop-blur-sm\">\n                                <div\n                                    className=\"h-full bg-white shadow-[0_0_10px_rgba(255,255,255,0.8)]\"\n                                    style={{\n                                        width: index === currentIndex ? `${progress}%` : index < currentIndex ? '100%' : '0%',\n                                        transition: index === currentIndex ? 'width 20ms linear' : 'none'\n                                    }}\n                                ></div>\n                            </div>\n                        ))}\n                    </div>\n\n                    {/* Top Controls */}\n                    <div className=\"flex justify-between items-center mt-2\">\n                        <div className=\"flex items-center gap-3\">\n                            <div className=\"w-10 h-10 rounded-full border border-white/20 p-0.5\">\n                                <div className=\"w-full h-full rounded-full overflow-hidden bg-gray-800\">\n                                    <img src={activeStory.image} className=\"w-full h-full object-cover\" alt=\"Avatar\" />\n                                </div>\n                            </div>\n                            <div>\n                                <p className=\"text-sm font-bold text-white drop-shadow-md leading-tight\">{activeStory.title}</p>\n                                <p className=\"text-[10px] text-gray-300 uppercase tracking-widest drop-shadow-md\">\n                                    {activeStory.type === 'dish' ? 'Plato Destacado' : activeStory.type === 'chef' ? 'Backstage' : 'Promo'}\n                                </p>\n                            </div>\n                        </div>\n                        <button onClick={onClose} className=\"p-2 hover:bg-white/10 rounded-full transition-colors text-white active:scale-90\">\n                            <X size={24} />\n                        </button>\n                    </div>\n                </div>\n\n                {/* FOOTER: CTA */}\n                <div className=\"text-center pointer-events-auto pb-8 md:pb-6 relative z-30\">\n                    {/* Only show CTA if it's a dish or promo AND has a linked Item */}\n                    {(activeStory.linkedItemId) && (\n                        <div className=\"animate-slide-up\">\n                            <button\n                                onClick={() => onAction(activeStory.linkedItemId!)}\n                                className=\"group bg-white/10 backdrop-blur-xl border border-white/30 text-white px-8 py-3.5 rounded-full text-xs font-bold uppercase tracking-[0.2em] hover:bg-white hover:text-black transition-all shadow-xl flex items-center gap-3 mx-auto active:scale-95\"\n                            >\n                                {activeStory.type === 'dish' ? 'Ver Plato' : 'Ver Detalles'}\n                                <ChevronRight size={14} className=\"group-hover:translate-x-1 transition-transform\" />\n                            </button>\n                            <p className=\"text-[9px] text-white/50 mt-4 uppercase tracking-widest font-medium animate-pulse\">\n                                {isPaused ? 'Pausado' : 'Mantén presionado para pausar'}\n                            </p>\n                        </div>\n                    )}\n                </div>\n            </div>\n\n            {/* INVISIBLE TOUCH ZONES (The \"Instagram\" Interaction) */}\n            <div className=\"absolute inset-0 z-15 flex\">\n                {/* Left Zone (Prev) - 30% width */}\n                <div\n                    className=\"w-[30%] h-full cursor-pointer active:opacity-10 transition-opacity bg-white/0 hover:bg-white/[0.02]\"\n                    onClick={handlePrev}\n                    onMouseDown={() => setIsPaused(true)}\n                    onMouseUp={() => setIsPaused(false)}\n                    onMouseLeave={() => setIsPaused(false)}\n                    onTouchStart={() => setIsPaused(true)}\n                    onTouchEnd={() => setIsPaused(false)}\n                ></div>\n\n                {/* Right Zone (Next) - 70% width */}\n                <div\n                    className=\"w-[70%] h-full cursor-pointer active:opacity-10 transition-opacity bg-white/0 hover:bg-white/[0.02]\"\n                    onClick={handleNext}\n                    onMouseDown={() => setIsPaused(true)}\n                    onMouseUp={() => setIsPaused(false)}\n                    onMouseLeave={() => setIsPaused(false)}\n                    onTouchStart={() => setIsPaused(true)}\n                    onTouchEnd={() => setIsPaused(false)}\n                ></div>\n            </div>\n        </div>\n    );\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1866, "column": 0}, "map": {"version":3,"sources":["file:///c:/Users/ASUS/OneDrive/Documentos/Men%C3%BAs%20IA/src/components/diner/SectionRow.tsx"],"sourcesContent":["'use client';\n\nimport React from 'react';\nimport { ArrowRight } from 'lucide-react';\nimport { MenuItem } from '@/types';\nimport { DishCard } from './DishCard';\n\ninterface SectionRowProps {\n    title: string;\n    items: MenuItem[];\n    onItemClick: (i: MenuItem) => void;\n    currency?: string;\n}\n\nexport const SectionRow: React.FC<SectionRowProps> = ({ title, items, onItemClick, currency = '$' }) => {\n    if (items.length === 0) return null;\n    return (\n        <section className=\"py-8 border-b border-white/5\">\n            <div className=\"px-6 flex justify-between items-end mb-6\">\n                <h2 className=\"text-3xl font-serif italic text-white/90\">{title}</h2>\n                <button className=\"text-[10px] font-bold text-gray-500 uppercase tracking-[0.2em] flex items-center gap-2 hover:text-white transition-colors group pb-1 border-b border-transparent hover:border-white\">\n                    Ver Todo <ArrowRight size={10} className=\"group-hover:translate-x-1 transition-transform\" />\n                </button>\n            </div>\n            <div className=\"flex space-x-6 overflow-x-auto pb-8 px-6 no-scrollbar snap-x-mandatory scroll-pl-6\">\n                {items.map(item => (\n                    <DishCard key={item.id} item={item} onClick={onItemClick} layout=\"vertical\" className=\"w-64 snap-start\" currency={currency} />\n                ))}\n            </div>\n        </section>\n    );\n};\n"],"names":[],"mappings":";;;;;AAGA;AAEA;AALA;;;;AAcO,MAAM,aAAwC,CAAC,EAAE,KAAK,EAAE,KAAK,EAAE,WAAW,EAAE,WAAW,GAAG,EAAE;IAC/F,IAAI,MAAM,MAAM,KAAK,GAAG,OAAO;IAC/B,qBACI,8OAAC;QAAQ,WAAU;;0BACf,8OAAC;gBAAI,WAAU;;kCACX,8OAAC;wBAAG,WAAU;kCAA4C;;;;;;kCAC1D,8OAAC;wBAAO,WAAU;;4BAAsL;0CAC3L,8OAAC,gOAAU;gCAAC,MAAM;gCAAI,WAAU;;;;;;;;;;;;;;;;;;0BAGjD,8OAAC;gBAAI,WAAU;0BACV,MAAM,GAAG,CAAC,CAAA,qBACP,8OAAC,mJAAQ;wBAAe,MAAM;wBAAM,SAAS;wBAAa,QAAO;wBAAW,WAAU;wBAAkB,UAAU;uBAAnG,KAAK,EAAE;;;;;;;;;;;;;;;;AAK1C"}},
    {"offset": {"line": 1946, "column": 0}, "map": {"version":3,"sources":["file:///c:/Users/ASUS/OneDrive/Documentos/Men%C3%BAs%20IA/src/components/ui/Modal.tsx"],"sourcesContent":["'use client';\n\nimport React, { useEffect, useRef } from 'react';\nimport { X } from 'lucide-react';\n\ninterface ModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  children: React.ReactNode;\n  title?: string;\n  variant?: 'default' | 'immersive';\n}\n\nexport const Modal: React.FC<ModalProps> = ({ isOpen, onClose, children, title, variant = 'default' }) => {\n  const modalRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    const handleOutsideClick = (event: MouseEvent) => {\n      if (modalRef.current && !modalRef.current.contains(event.target as Node)) {\n        onClose();\n      }\n    };\n\n    if (isOpen) {\n      document.addEventListener('mousedown', handleOutsideClick);\n      document.body.style.overflow = 'hidden';\n    }\n\n    return () => {\n      document.removeEventListener('mousedown', handleOutsideClick);\n      document.body.style.overflow = 'unset';\n    };\n  }, [isOpen, onClose]);\n\n  if (!isOpen) return null;\n\n  const isImmersive = variant === 'immersive';\n\n  return (\n    <div className=\"fixed inset-0 z-[60] flex items-end md:items-center justify-center bg-black/80 backdrop-blur-sm p-0 md:p-6 animate-fade-in\">\n      <div\n        ref={modalRef}\n        className={`\n            bg-gray-900/90 backdrop-blur-xl border border-white/10 rounded-t-[2.5rem] md:rounded-[2.5rem] w-full max-w-2xl overflow-hidden shadow-2xl transform transition-all animate-slide-up h-[90vh] md:h-auto md:max-h-[90vh] flex flex-col\n            ${isImmersive ? 'p-0' : 'p-0 md:p-6'} \n        `}\n      >\n        {/* Header */}\n        <div className={`\n            flex justify-between items-center absolute top-0 left-0 right-0 z-20 pointer-events-none\n            ${isImmersive ? 'p-6 bg-gradient-to-b from-black/60 to-transparent' : 'p-6 bg-transparent'}\n        `}>\n          <h3 className=\"text-lg font-serif italic text-white/90 drop-shadow-md\">{title}</h3>\n\n          <button onClick={onClose} className=\"pointer-events-auto p-2.5 bg-black/40 backdrop-blur-md rounded-full border border-white/10 hover:bg-white hover:text-black transition-all text-white shadow-lg group\">\n            <X size={20} className=\"group-hover:rotate-90 transition-transform duration-300\" />\n          </button>\n        </div>\n\n        <div className=\"flex-1 overflow-y-auto overscroll-contain no-scrollbar\">\n          {children}\n        </div>\n      </div>\n    </div>\n  );\n};\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAaO,MAAM,QAA8B,CAAC,EAAE,MAAM,EAAE,OAAO,EAAE,QAAQ,EAAE,KAAK,EAAE,UAAU,SAAS,EAAE;IACnG,MAAM,WAAW,IAAA,+MAAM,EAAiB;IAExC,IAAA,kNAAS,EAAC;QACR,MAAM,qBAAqB,CAAC;YAC1B,IAAI,SAAS,OAAO,IAAI,CAAC,SAAS,OAAO,CAAC,QAAQ,CAAC,MAAM,MAAM,GAAW;gBACxE;YACF;QACF;QAEA,IAAI,QAAQ;YACV,SAAS,gBAAgB,CAAC,aAAa;YACvC,SAAS,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG;QACjC;QAEA,OAAO;YACL,SAAS,mBAAmB,CAAC,aAAa;YAC1C,SAAS,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG;QACjC;IACF,GAAG;QAAC;QAAQ;KAAQ;IAEpB,IAAI,CAAC,QAAQ,OAAO;IAEpB,MAAM,cAAc,YAAY;IAEhC,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YACC,KAAK;YACL,WAAW,CAAC;;YAER,EAAE,cAAc,QAAQ,aAAa;QACzC,CAAC;;8BAGD,8OAAC;oBAAI,WAAW,CAAC;;YAEb,EAAE,cAAc,sDAAsD,qBAAqB;QAC/F,CAAC;;sCACC,8OAAC;4BAAG,WAAU;sCAA0D;;;;;;sCAExE,8OAAC;4BAAO,SAAS;4BAAS,WAAU;sCAClC,cAAA,8OAAC,iMAAC;gCAAC,MAAM;gCAAI,WAAU;;;;;;;;;;;;;;;;;8BAI3B,8OAAC;oBAAI,WAAU;8BACZ;;;;;;;;;;;;;;;;;AAKX"}},
    {"offset": {"line": 2048, "column": 0}, "map": {"version":3,"sources":["file:///c:/Users/ASUS/OneDrive/Documentos/Men%C3%BAs%20IA/src/components/diner/DishDetailModal.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState, useEffect, useMemo } from 'react';\nimport { Modal } from '@/components/ui/Modal';\nimport { MenuItem } from '@/types';\nimport { Plus, Minus, Flame, Leaf, WheatOff, Check, Share2, Heart, Wine, ChefHat, CheckCircle2, Sparkles, Coffee, Beer } from 'lucide-react';\nimport { formatCurrency } from '@/lib/utils/format';\n\ninterface DishDetailModalProps {\n    item: MenuItem | null;\n    menuItems: MenuItem[];\n    onClose: () => void;\n    onAdd: (item: MenuItem) => void;\n    isLiked: boolean;\n    onToggleLike: () => void;\n    currency?: string;\n}\n\nexport const DishDetailModal: React.FC<DishDetailModalProps> = ({\n    item,\n    menuItems,\n    onClose,\n    onAdd,\n    isLiked,\n    onToggleLike,\n    currency = '$'\n}) => {\n    const [quantity, setQuantity] = useState(1);\n    const [selections, setSelections] = useState<Record<string, string[]>>({});\n    const [isPairingSelected, setIsPairingSelected] = useState(false);\n    const [isAdded, setIsAdded] = useState(false);\n\n    // --- MOTOR DE INTELIGENCIA DE UPSELL (Validado v2) ---\n    const smartRecommendation = useMemo(() => {\n        if (!item) return null;\n\n        // A. Búsqueda Exacta (Nivel 1)\n        if (item.pairing) {\n            // Filtrar palabras cortas para evitar falsos positivos con \"de\", \"con\", \"el\"\n            const searchTerms = item.pairing.toLowerCase().split(' ').filter(w => w.length > 3);\n            const foundItem = menuItems.find(i =>\n                i.available && // Solo sugerir si está disponible\n                searchTerms.some(term => i.name.toLowerCase().includes(term))\n            );\n\n            if (foundItem) return { item: foundItem, type: 'match', label: 'Maridaje Perfecto' };\n\n            // Si no existe, crear VIRTUAL ITEM (Nivel 2)\n            // FIX CRÍTICO: Usamos guión bajo (_) en el ID para evitar que useCart lo agrupe incorrectamente\n            return {\n                item: {\n                    id: `pairing_${item.id}`, // ID Único vinculado al padre\n                    name: item.pairing,\n                    price: 24000, // Precio realista para Bebida Premium\n                    image: '',\n                    category: 'drinks',\n                    tags: ['Recomendado'],\n                    description: 'Selección especial del Sommelier',\n                    available: true\n                } as MenuItem,\n                type: 'virtual',\n                label: 'Recomendación del Chef'\n            };\n        }\n\n        // B. Deducción Contextual (Nivel 3 - \"Inteligencia\")\n        let categoryTarget = 'drinks';\n        let label = 'Para Acompañar';\n        let searchTerm = ''; // Opcional: refinar búsqueda dentro de categoría\n\n        if (item.category === 'desserts') {\n            // Si es postre, buscar cafés o digestivos primero\n            categoryTarget = 'drinks'; // Asumiendo que cafés están en drinks o categoría propia\n            searchTerm = 'café';\n            label = 'Perfecto con Café';\n        } else if (item.category === 'burgers' || item.category === 'mains') {\n            categoryTarget = 'drinks';\n            label = 'Mejora tu Experiencia';\n        } else if (item.category === 'starters') {\n            // Si es entrada, quizás sugerir otra entrada para compartir o bebida ligera\n            categoryTarget = 'drinks';\n            label = 'Para Empezar';\n        }\n\n        // Buscar el mejor candidato disponible\n        const fallbackItem = menuItems\n            .filter(i =>\n                i.available &&\n                (i.category === categoryTarget || i.category === 'drinks') &&\n                (searchTerm ? i.name.toLowerCase().includes(searchTerm) : true) &&\n                i.id !== item.id // No sugerirse a sí mismo\n            )\n            // Ordenar por: Tiene Tag 'Popular' > Precio más alto (Upsell)\n            .sort((a, b) => (b.popular ? 1 : 0) - (a.popular ? 1 : 0) || b.price - a.price)[0];\n\n        if (fallbackItem) return { item: fallbackItem, type: 'context', label: label };\n\n        return null;\n    }, [item, menuItems]);\n\n    // Reset al abrir\n    useEffect(() => {\n        if (item) {\n            setQuantity(1);\n            setSelections({});\n            setIsPairingSelected(false);\n            setIsAdded(false);\n        }\n    }, [item]);\n\n    // Cálculo de Precios\n    const unitPrice = useMemo(() => {\n        if (!item) return 0;\n        let total = item.price;\n        if (item.modifiers) {\n            item.modifiers.forEach(group => {\n                const groupSelections = selections[group.id] || [];\n                groupSelections.forEach(optId => {\n                    const option = group.options.find(o => o.id === optId);\n                    if (option) total += option.price;\n                });\n            });\n        }\n        return total;\n    }, [item, selections]);\n\n    const upsellPrice = (isPairingSelected && smartRecommendation) ? smartRecommendation.item.price : 0;\n    // Lógica de Bundle: 1 Plato Principal + 1 Bebida Sugerida\n    const totalDisplayPrice = (unitPrice * quantity) + upsellPrice;\n\n    const isValid = useMemo(() => {\n        if (!item || !item.modifiers) return true;\n        return item.modifiers.every(group => {\n            const currentCount = (selections[group.id] || []).length;\n            return currentCount >= group.minSelection;\n        });\n    }, [item, selections]);\n\n    // Handlers\n    const toggleSelection = (groupId: string, optionId: string, max: number) => {\n        setSelections(prev => {\n            const current = prev[groupId] || [];\n            const isSelected = current.includes(optionId);\n            if (max === 1) return { ...prev, [groupId]: [optionId] }; // Radio behavior\n            if (isSelected) return { ...prev, [groupId]: current.filter(id => id !== optionId) };\n            if (current.length >= max) return prev;\n            return { ...prev, [groupId]: [...current, optionId] };\n        });\n    };\n\n    const handleAdd = () => {\n        if (item && isValid) {\n            // 1. Agregar Main Item\n            const selectedOptionsList: any[] = [];\n            if (item.modifiers) {\n                item.modifiers.forEach(group => {\n                    (selections[group.id] || []).forEach(optId => {\n                        const opt = group.options.find(o => o.id === optId);\n                        if (opt) selectedOptionsList.push({ groupName: group.name, optionName: opt.name, price: opt.price });\n                    });\n                });\n            }\n\n            onAdd({\n                ...item,\n                price: unitPrice,\n                quantity: quantity,\n                selectedOptions: selectedOptionsList,\n                finalPrice: unitPrice * quantity\n            });\n\n            // 2. Agregar Upsell (Si fue seleccionado)\n            if (isPairingSelected && smartRecommendation) {\n                onAdd({\n                    ...smartRecommendation.item,\n                    quantity: 1, // Siempre 1 por bundle\n                    finalPrice: smartRecommendation.item.price\n                });\n            }\n\n            setIsAdded(true);\n            setTimeout(() => { if (item) onClose(); }, 800);\n        }\n    };\n\n    // Helper UI Icons\n    const getUpsellIcon = (itemName: string) => {\n        const lower = itemName.toLowerCase();\n        if (lower.includes('caf') || lower.includes('coffee') || lower.includes('espresso')) return <Coffee size={24} strokeWidth={1.5} />;\n        if (lower.includes('cerveza') || lower.includes('beer') || lower.includes('lager') || lower.includes('stout')) return <Beer size={24} strokeWidth={1.5} />;\n        return <Wine size={24} strokeWidth={1.5} />;\n    };\n\n    return (\n        <Modal isOpen={!!item} onClose={onClose} title=\" \" variant=\"immersive\">\n            {item && (\n                <div className=\"bg-[#050505] min-h-full flex flex-col relative pb-32\">\n\n                    {/* HERO IMAGE */}\n                    <div className=\"relative h-[45vh] w-full shrink-0\">\n                        <img src={item.image} alt={item.name} className=\"w-full h-full object-cover\" />\n                        <div className=\"absolute inset-0 bg-gradient-to-t from-[#050505] via-transparent to-black/30\"></div>\n                        <div className=\"absolute top-0 left-0 p-6 pt-12 flex gap-3 w-full justify-between items-start pointer-events-auto\">\n                            <button onClick={onToggleLike} className={`w-10 h-10 rounded-full backdrop-blur-md border flex items-center justify-center transition-all shadow-xl active:scale-90 ${isLiked ? 'bg-brand-primary border-brand-primary text-white' : 'bg-black/30 border-white/10 text-white hover:bg-white hover:text-black'}`}>\n                                <Heart size={18} className={isLiked ? \"fill-white\" : \"\"} />\n                            </button>\n                        </div>\n                    </div>\n\n                    {/* CONTENT */}\n                    <div className=\"px-6 -mt-12 relative z-10 flex-1\">\n                        <div className=\"flex flex-col mb-8\">\n                            <div className=\"flex items-center gap-3 mb-3\">\n                                {item.popular && <span className=\"text-[9px] font-bold bg-white text-black px-2 py-0.5 rounded-sm uppercase tracking-wider shadow-[0_0_10px_rgba(255,255,255,0.4)]\">Popular</span>}\n                                <span className=\"text-[9px] font-bold text-brand-primary border border-brand-primary/30 bg-brand-primary/5 px-2 py-0.5 rounded uppercase tracking-wider\">{item.category}</span>\n                            </div>\n                            <h2 className=\"text-4xl md:text-5xl font-serif text-white italic leading-[0.9] mb-4 tracking-tight\">{item.name}</h2>\n                            <p className=\"text-gray-300 text-sm font-light leading-relaxed opacity-90\">{item.description}</p>\n                        </div>\n\n                        {/* MODIFIERS */}\n                        {item.modifiers && item.modifiers.map(group => (\n                            <div key={group.id} className=\"mb-8 animate-fade-in\">\n                                <div className=\"flex justify-between items-end mb-4 border-b border-white/5 pb-2\">\n                                    <h3 className=\"text-xs font-bold text-gray-400 uppercase tracking-[0.2em]\">{group.name}</h3>\n                                    <span className={`text-[9px] font-bold px-2 py-0.5 rounded uppercase tracking-wider ${group.minSelection > 0 ? 'bg-brand-primary/20 text-brand-primary' : 'bg-white/10 text-gray-400'}`}>\n                                        {group.minSelection > 0 ? 'Requerido' : 'Opcional'}\n                                    </span>\n                                </div>\n                                <div className=\"space-y-2\">\n                                    {group.options.map(option => {\n                                        const isSelected = (selections[group.id] || []).includes(option.id);\n                                        return (\n                                            <div key={option.id} onClick={() => toggleSelection(group.id, option.id, group.maxSelection)}\n                                                className={`flex items-center justify-between p-4 rounded-xl border cursor-pointer transition-all duration-300 active:scale-[0.99] ${isSelected ? 'bg-white/[0.08] border-brand-primary/50 shadow-lg' : 'bg-white/[0.03] border-transparent hover:bg-white/[0.06]'}`}>\n                                                <div className=\"flex items-center gap-4\">\n                                                    <div className={`w-5 h-5 rounded-full border flex items-center justify-center transition-all duration-300 ${isSelected ? 'bg-brand-primary border-brand-primary text-white scale-110' : 'border-gray-600'}`}>\n                                                        {isSelected && <Check size={12} strokeWidth={4} />}\n                                                    </div>\n                                                    <span className={`text-sm ${isSelected ? 'text-white font-medium' : 'text-gray-400 font-light'}`}>{option.name}</span>\n                                                </div>\n                                                {option.price > 0 && <span className=\"text-xs font-bold text-white bg-black/40 px-2 py-1 rounded\">+{currency}{formatCurrency(option.price)}</span>}\n                                            </div>\n                                        );\n                                    })}\n                                </div>\n                            </div>\n                        ))}\n\n                        {/* --- SMART UPSELL UI --- */}\n                        {smartRecommendation && (\n                            <div className=\"mt-10 mb-8 animate-slide-up\">\n                                <div className=\"flex items-center gap-2 mb-4 pl-1\">\n                                    <Sparkles size={14} className=\"text-brand-primary animate-pulse\" />\n                                    <h3 className=\"text-xs font-bold text-gray-300 uppercase tracking-[0.2em]\">{smartRecommendation.label}</h3>\n                                </div>\n\n                                <div\n                                    onClick={() => setIsPairingSelected(!isPairingSelected)}\n                                    className={`\n                                relative overflow-hidden rounded-2xl border transition-all duration-500 cursor-pointer group\n                                ${isPairingSelected\n                                            ? 'bg-brand-primary/10 border-brand-primary shadow-[0_0_30px_rgba(var(--color-brand-primary),0.15)]'\n                                            : 'bg-white/[0.03] border-white/10 hover:bg-white/[0.05]'\n                                        }\n                            `}\n                                >\n                                    <div className=\"flex items-center p-4 gap-5 relative z-10\">\n                                        {/* Visual Asset */}\n                                        <div className={`w-16 h-16 rounded-full flex items-center justify-center shrink-0 border transition-all duration-500 relative overflow-hidden ${isPairingSelected ? 'border-brand-primary bg-black' : 'border-white/10 bg-white/5'}`}>\n                                            {smartRecommendation.item.image ? (\n                                                <img src={smartRecommendation.item.image} className=\"w-full h-full object-cover opacity-90\" alt=\"\" />\n                                            ) : (\n                                                <div className={`transition-colors ${isPairingSelected ? 'text-brand-primary' : 'text-gray-500'}`}>\n                                                    {getUpsellIcon(smartRecommendation.item.name)}\n                                                </div>\n                                            )}\n                                            {/* Animation overlay */}\n                                            {isPairingSelected && <div className=\"absolute inset-0 bg-brand-primary/20 animate-pulse\"></div>}\n                                        </div>\n\n                                        {/* Text Content */}\n                                        <div className=\"flex-1 min-w-0\">\n                                            <div className=\"flex justify-between items-start\">\n                                                <p className={`text-lg font-serif italic truncate pr-2 transition-colors ${isPairingSelected ? 'text-white' : 'text-gray-300'}`}>\n                                                    {smartRecommendation.item.name}\n                                                </p>\n                                                <span className={`text-xs font-bold px-2 py-1 rounded border transition-colors ${isPairingSelected ? 'bg-brand-primary text-white border-brand-primary' : 'bg-white/10 text-white border-transparent'}`}>\n                                                    +{currency}{formatCurrency(smartRecommendation.item.price)}\n                                                </span>\n                                            </div>\n                                            <p className=\"text-[10px] text-gray-500 mt-1 uppercase tracking-wider line-clamp-1\">\n                                                {smartRecommendation.item.description || \"Complemento ideal sugerido\"}\n                                            </p>\n                                        </div>\n\n                                        {/* Radio Indicator */}\n                                        <div className={`w-6 h-6 rounded-full border flex items-center justify-center transition-all duration-300 shrink-0 ${isPairingSelected ? 'border-brand-primary' : 'border-gray-600'}`}>\n                                            <div className={`w-3 h-3 bg-brand-primary rounded-full shadow-[0_0_10px_currentColor] transition-all duration-300 ${isPairingSelected ? 'scale-100' : 'scale-0'}`} />\n                                        </div>\n                                    </div>\n\n                                    {/* Background Glow Effect on Select */}\n                                    <div className={`absolute inset-0 bg-gradient-to-r from-brand-primary/10 to-transparent transition-opacity duration-500 ${isPairingSelected ? 'opacity-100' : 'opacity-0'}`}></div>\n                                </div>\n                            </div>\n                        )}\n                    </div>\n\n                    {/* ACTION FOOTER */}\n                    <div className=\"fixed bottom-0 left-0 right-0 p-4 pb-6 md:p-6 bg-[#050505]/95 backdrop-blur-xl border-t border-white/10 z-50\">\n                        <div className=\"max-w-2xl mx-auto flex gap-4 h-14\">\n                            {/* Quantity Stepper */}\n                            <div className=\"flex items-center bg-white/5 rounded-2xl border border-white/10 px-1 shrink-0 h-full\">\n                                <button onClick={() => setQuantity(Math.max(1, quantity - 1))} className=\"w-12 h-full flex items-center justify-center text-white hover:text-brand-primary active:scale-75 transition-all\"><Minus size={20} /></button>\n                                <span className=\"w-8 text-center font-bold text-xl text-white tabular-nums\">{quantity}</span>\n                                <button onClick={() => setQuantity(quantity + 1)} className=\"w-12 h-full flex items-center justify-center text-white hover:text-brand-primary active:scale-75 transition-all\"><Plus size={20} /></button>\n                            </div>\n\n                            {/* Add Button */}\n                            <button\n                                onClick={handleAdd}\n                                disabled={!isValid || isAdded}\n                                className={`\n                            flex-1 h-full rounded-2xl font-bold text-xs tracking-[0.15em] uppercase shadow-2xl transition-all flex items-center justify-between px-8 transform active:scale-[0.98]\n                            ${isAdded ? 'bg-green-500 text-white border-green-500' : isValid ? 'bg-white text-black hover:bg-brand-primary hover:text-white hover:border-brand-primary' : 'bg-gray-800 text-gray-500 cursor-not-allowed border-white/5 border'}\n                        `}\n                            >\n                                {isAdded ? (\n                                    <div className=\"w-full flex justify-center items-center gap-3 animate-fade-in\"><CheckCircle2 size={24} /> <span>Listo</span></div>\n                                ) : (\n                                    <>\n                                        <div className=\"flex flex-col items-start leading-none gap-1\">\n                                            <span className=\"text-sm font-black\">{isValid ? 'Agregar' : 'Elige Opciones'}</span>\n                                            {isPairingSelected && <span className=\"text-[9px] font-normal normal-case opacity-70 tracking-normal\">+ {smartRecommendation?.item.name}</span>}\n                                        </div>\n                                        <span className=\"text-2xl font-serif italic font-medium\">{currency}{formatCurrency(totalDisplayPrice)}</span>\n                                    </>\n                                )}\n                            </button>\n                        </div>\n                    </div>\n\n                </div>\n            )}\n        </Modal>\n    );\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2797, "column": 0}, "map": {"version":3,"sources":["file:///c:/Users/ASUS/OneDrive/Documentos/Men%C3%BAs%20IA/src/components/diner/SelectionDock.tsx"],"sourcesContent":["'use client';\n\nimport React, { useEffect, useState } from 'react';\nimport { ArrowRight } from 'lucide-react';\nimport { MenuItem } from '@/types';\nimport { formatCurrency } from '@/lib/utils/format';\n\ninterface SelectionDockProps {\n  selection: MenuItem[];\n  onViewOrder: () => void;\n  currency?: string;\n}\n\nexport const SelectionDock: React.FC<SelectionDockProps> = ({\n  selection,\n  onViewOrder,\n  currency = '$'\n}) => {\n  const [animate, setAnimate] = useState(false);\n\n  // Trigger animation when selection count changes\n  useEffect(() => {\n    if (selection.length > 0) {\n      setAnimate(true);\n      const timer = setTimeout(() => setAnimate(false), 300);\n      return () => clearTimeout(timer);\n    }\n  }, [selection.length]);\n\n  if (selection.length === 0) return null;\n\n  // Calculate total using finalPrice (which includes quantity and extras)\n  const total = selection.reduce((acc, item) => {\n    const itemTotal = item.finalPrice || (item.price * (item.quantity || 1));\n    return acc + itemTotal;\n  }, 0);\n\n  return (\n    // Added padding-right to avoid collision with the ChatBot button (bottom-right)\n    <div className=\"fixed bottom-6 left-6 right-6 md:right-32 z-40 animate-slide-up pointer-events-none\">\n      <div\n        onClick={onViewOrder}\n        className={`\n            pointer-events-auto max-w-md mx-auto md:mx-0 bg-white/10 backdrop-blur-2xl border border-white/20 rounded-[2rem] p-2 pr-4 shadow-[0_20px_40px_rgba(0,0,0,0.6)] flex items-center justify-between cursor-pointer group hover:bg-white/15 transition-all duration-300\n            ${animate ? 'scale-105 bg-white/20' : 'scale-100'}\n        `}\n      >\n        <div className=\"flex items-center gap-4\">\n          <div className={`\n                bg-brand-primary text-white w-12 h-12 rounded-full flex items-center justify-center font-bold text-lg shadow-lg transition-transform\n                ${animate ? 'scale-110' : 'group-hover:scale-105'}\n            `}>\n            {selection.length}\n          </div>\n          <div className=\"flex flex-col\">\n            <span className=\"text-[10px] text-gray-400 uppercase tracking-widest font-bold\">Tu Selección</span>\n            <span className=\"text-white font-serif italic text-lg leading-none\">{currency} {formatCurrency(total)}</span>\n          </div>\n        </div>\n\n        <div className=\"flex items-center gap-2 text-xs font-bold uppercase tracking-widest text-white pr-2\">\n          <span>Revisar</span>\n          <div className=\"w-8 h-8 rounded-full border border-white/20 flex items-center justify-center group-hover:bg-white group-hover:text-black transition-all\">\n            <ArrowRight size={14} />\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAEA;AALA;;;;;AAaO,MAAM,gBAA8C,CAAC,EAC1D,SAAS,EACT,WAAW,EACX,WAAW,GAAG,EACf;IACC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IAEvC,iDAAiD;IACjD,IAAA,kNAAS,EAAC;QACR,IAAI,UAAU,MAAM,GAAG,GAAG;YACxB,WAAW;YACX,MAAM,QAAQ,WAAW,IAAM,WAAW,QAAQ;YAClD,OAAO,IAAM,aAAa;QAC5B;IACF,GAAG;QAAC,UAAU,MAAM;KAAC;IAErB,IAAI,UAAU,MAAM,KAAK,GAAG,OAAO;IAEnC,wEAAwE;IACxE,MAAM,QAAQ,UAAU,MAAM,CAAC,CAAC,KAAK;QACnC,MAAM,YAAY,KAAK,UAAU,IAAK,KAAK,KAAK,GAAG,CAAC,KAAK,QAAQ,IAAI,CAAC;QACtE,OAAO,MAAM;IACf,GAAG;IAEH,OACE,gFAAgF;kBAChF,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YACC,SAAS;YACT,WAAW,CAAC;;YAER,EAAE,UAAU,0BAA0B,YAAY;QACtD,CAAC;;8BAED,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAI,WAAW,CAAC;;gBAEX,EAAE,UAAU,cAAc,wBAAwB;YACtD,CAAC;sCACA,UAAU,MAAM;;;;;;sCAEnB,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAK,WAAU;8CAAgE;;;;;;8CAChF,8OAAC;oCAAK,WAAU;;wCAAqD;wCAAS;wCAAE,IAAA,+IAAc,EAAC;;;;;;;;;;;;;;;;;;;8BAInG,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;sCAAK;;;;;;sCACN,8OAAC;4BAAI,WAAU;sCACb,cAAA,8OAAC,gOAAU;gCAAC,MAAM;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAM9B"}},
    {"offset": {"line": 2933, "column": 0}, "map": {"version":3,"sources":["file:///c:/Users/ASUS/OneDrive/Documentos/Men%C3%BAs%20IA/src/components/diner/OrderSummaryModal.tsx"],"sourcesContent":["'use client';\n\nimport React from 'react';\nimport { Modal } from '@/components/ui/Modal';\nimport { MenuItem } from '@/types';\nimport { Trash2, Receipt, ArrowRight, Plus, Minus } from 'lucide-react';\nimport { formatCurrency } from '@/lib/utils/format';\n\ninterface OrderSummaryModalProps {\n    isOpen: boolean;\n    onClose: () => void;\n    selection: MenuItem[];\n    onRemoveItem: (index: number) => void;\n    onUpdateQuantity: (index: number, quantity: number) => void;\n    onConfirmOrder: () => void;\n    currencySymbol?: string;\n    isLoading?: boolean;\n}\n\nexport const OrderSummaryModal: React.FC<OrderSummaryModalProps> = ({\n    isOpen,\n    onClose,\n    selection,\n    onRemoveItem,\n    onUpdateQuantity,\n    onConfirmOrder,\n    currencySymbol = '$',\n    isLoading = false\n}) => {\n    const subtotal = selection.reduce((acc, item) => {\n        return acc + (item.finalPrice || (item.price * (item.quantity || 1)));\n    }, 0);\n\n    const tax = subtotal * 0.08; // 8% Impoconsumo\n    const total = subtotal + tax;\n\n    const handlePay = () => {\n        onConfirmOrder();\n    };\n\n    return (\n        <Modal isOpen={isOpen} onClose={onClose} title=\" \" variant=\"default\">\n            <div className=\"px-6 pb-6\">\n                <div className=\"text-center mb-8\">\n                    <div className=\"w-16 h-16 bg-white/5 rounded-full flex items-center justify-center mx-auto mb-4 border border-white/10\">\n                        <Receipt className=\"text-gray-400\" />\n                    </div>\n                    <h2 className=\"text-3xl font-serif text-white italic\">Tu Cuenta</h2>\n                    <p className=\"text-xs text-gray-500 uppercase tracking-widest mt-1\">Revisa tus elecciones</p>\n                </div>\n\n                {/* Order List */}\n                <div className=\"space-y-4 mb-8 max-h-[40vh] overflow-y-auto no-scrollbar\">\n                    {selection.length === 0 ? (\n                        <p className=\"text-center text-gray-500 py-8 text-sm\">No has seleccionado nada aún.</p>\n                    ) : (\n                        selection.map((item, idx) => (\n                            <div key={`${item.id}-${idx}`} className=\"flex justify-between items-start bg-white/5 p-4 rounded-xl border border-white/5 group\">\n                                {/* Left: Info */}\n                                <div className=\"flex-1 pr-4\">\n                                    <div className=\"flex items-center gap-2 mb-1\">\n                                        <span className=\"text-white font-medium text-lg leading-tight\">{item.name}</span>\n                                    </div>\n\n                                    {/* Modifiers List */}\n                                    {item.selectedOptions && item.selectedOptions.length > 0 && (\n                                        <div className=\"pl-0 space-y-1 mt-2 mb-2\">\n                                            {item.selectedOptions.map((opt, i) => (\n                                                <div key={i} className=\"text-[10px] text-gray-400 flex items-center gap-2\">\n                                                    <div className=\"w-1 h-1 rounded-full bg-brand-primary\"></div>\n                                                    <span>{opt.optionName}</span>\n                                                    {opt.price > 0 && <span className=\"text-white/60\">+{currencySymbol}{formatCurrency(opt.price)}</span>}\n                                                </div>\n                                            ))}\n                                        </div>\n                                    )}\n                                </div>\n\n                                {/* Right: Controls & Price */}\n                                <div className=\"flex flex-col items-end gap-3\">\n                                    <span className=\"text-white font-serif font-medium text-lg\">\n                                        {currencySymbol}{formatCurrency(item.finalPrice || 0)}\n                                    </span>\n\n                                    <div className=\"flex items-center bg-black/40 rounded-lg border border-white/10 p-1\">\n                                        <button\n                                            onClick={() => {\n                                                if ((item.quantity || 1) > 1) {\n                                                    onUpdateQuantity(idx, (item.quantity || 1) - 1);\n                                                } else {\n                                                    onRemoveItem(idx);\n                                                }\n                                            }}\n                                            className=\"w-7 h-7 flex items-center justify-center text-gray-400 hover:text-white hover:bg-white/10 rounded transition-colors\"\n                                        >\n                                            {(item.quantity || 1) > 1 ? <Minus size={14} /> : <Trash2 size={14} className=\"text-red-400\" />}\n                                        </button>\n                                        <span className=\"w-8 text-center text-sm font-bold text-white tabular-nums\">{item.quantity || 1}</span>\n                                        <button\n                                            onClick={() => onUpdateQuantity(idx, (item.quantity || 1) + 1)}\n                                            className=\"w-7 h-7 flex items-center justify-center text-gray-400 hover:text-white hover:bg-white/10 rounded transition-colors\"\n                                        >\n                                            <Plus size={14} />\n                                        </button>\n                                    </div>\n                                </div>\n                            </div>\n                        ))\n                    )}\n                </div>\n\n                {/* Totals */}\n                {selection.length > 0 && (\n                    <div className=\"border-t border-dashed border-white/10 pt-6 space-y-2 mb-8\">\n                        <div className=\"flex justify-between text-xs text-gray-400\">\n                            <span>Subtotal</span>\n                            <span>{currencySymbol} {formatCurrency(subtotal)}</span>\n                        </div>\n                        <div className=\"flex justify-between text-xs text-gray-400\">\n                            <span>Impoconsumo (8%)</span>\n                            <span>{currencySymbol} {formatCurrency(tax)}</span>\n                        </div>\n                        <div className=\"flex justify-between text-xl font-serif text-white italic pt-2 mt-2 border-t border-white/5\">\n                            <span>Total</span>\n                            <span>{currencySymbol} {formatCurrency(total)}</span>\n                        </div>\n                    </div>\n                )}\n\n                {/* Action Button */}\n                <button\n                    onClick={handlePay}\n                    disabled={selection.length === 0 || isLoading}\n                    className={`\n                w-full py-4 rounded-xl font-bold text-xs tracking-[0.15em] uppercase shadow-xl transition-all relative overflow-hidden\n                bg-brand-primary text-white hover:bg-brand-primary/90\n                disabled:opacity-50 disabled:cursor-not-allowed\n            `}\n                >\n                    {isLoading ? (\n                        <span className=\"animate-pulse\">Procesando Orden...</span>\n                    ) : (\n                        <div className=\"flex items-center justify-center gap-2\">\n                            Confirmar Pedido <ArrowRight size={14} />\n                        </div>\n                    )}\n                </button>\n            </div>\n        </Modal>\n    );\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3318, "column": 0}, "map": {"version":3,"sources":["file:///c:/Users/ASUS/OneDrive/Documentos/Men%C3%BAs%20IA/src/components/ui/Toast.tsx"],"sourcesContent":["'use client';\n\nimport React, { useEffect } from 'react';\nimport { Check } from 'lucide-react';\n\ninterface ToastProps {\n  message: string;\n  isVisible: boolean;\n  onClose: () => void;\n}\n\nexport const Toast: React.FC<ToastProps> = ({ message, isVisible, onClose }) => {\n  useEffect(() => {\n    if (isVisible) {\n      const timer = setTimeout(() => {\n        onClose();\n      }, 2000);\n      return () => clearTimeout(timer);\n    }\n  }, [isVisible, onClose]);\n\n  return (\n    <div\n      className={`\n        fixed top-24 left-1/2 transform -translate-x-1/2 z-[70] transition-all duration-300 pointer-events-none\n        ${isVisible ? 'opacity-100 translate-y-0' : 'opacity-0 -translate-y-4'}\n      `}\n    >\n      <div className=\"bg-white/10 backdrop-blur-xl border border-white/10 shadow-[0_8px_30px_rgba(0,0,0,0.5)] text-white px-6 py-3 rounded-full flex items-center gap-3\">\n        <div className=\"bg-green-500 rounded-full p-0.5\">\n          <Check size={12} className=\"text-black stroke-[3]\" />\n        </div>\n        <span className=\"text-xs font-bold uppercase tracking-widest text-shadow\">{message}</span>\n      </div>\n    </div>\n  );\n};\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAWO,MAAM,QAA8B,CAAC,EAAE,OAAO,EAAE,SAAS,EAAE,OAAO,EAAE;IACzE,IAAA,kNAAS,EAAC;QACR,IAAI,WAAW;YACb,MAAM,QAAQ,WAAW;gBACvB;YACF,GAAG;YACH,OAAO,IAAM,aAAa;QAC5B;IACF,GAAG;QAAC;QAAW;KAAQ;IAEvB,qBACE,8OAAC;QACC,WAAW,CAAC;;QAEV,EAAE,YAAY,8BAA8B,2BAA2B;MACzE,CAAC;kBAED,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC,6MAAK;wBAAC,MAAM;wBAAI,WAAU;;;;;;;;;;;8BAE7B,8OAAC;oBAAK,WAAU;8BAA2D;;;;;;;;;;;;;;;;;AAInF"}},
    {"offset": {"line": 3388, "column": 0}, "map": {"version":3,"sources":["file:///c:/Users/ASUS/OneDrive/Documentos/Men%C3%BAs%20IA/src/components/ui/Skeleton.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React from 'react';\r\n\r\ninterface SkeletonProps {\r\n  className?: string;\r\n}\r\n\r\nexport const Skeleton: React.FC<SkeletonProps> = ({ className = '' }) => {\r\n  return (\r\n    <div className={`bg-white/5 animate-pulse rounded-xl ${className}`}></div>\r\n  );\r\n};\r\n\r\nexport const CardSkeleton: React.FC = () => (\r\n  <div className=\"flex items-center gap-4 py-4 border-b border-dashed border-white/5 px-2 -mx-2 opacity-50\">\r\n    <Skeleton className=\"h-20 w-20 rounded-2xl flex-shrink-0\" />\r\n    <div className=\"flex-1 space-y-2\">\r\n      <Skeleton className=\"h-4 w-3/4\" />\r\n      <Skeleton className=\"h-3 w-1/2\" />\r\n      <div className=\"flex justify-between mt-2\">\r\n        <Skeleton className=\"h-4 w-12\" />\r\n        <Skeleton className=\"h-6 w-6 rounded-full\" />\r\n      </div>\r\n    </div>\r\n  </div>\r\n);\r\n"],"names":[],"mappings":";;;;;;;AAAA;;AAQO,MAAM,WAAoC,CAAC,EAAE,YAAY,EAAE,EAAE;IAClE,qBACE,8OAAC;QAAI,WAAW,CAAC,oCAAoC,EAAE,WAAW;;;;;;AAEtE;AAEO,MAAM,eAAyB,kBACpC,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAS,WAAU;;;;;;0BACpB,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAS,WAAU;;;;;;kCACpB,8OAAC;wBAAS,WAAU;;;;;;kCACpB,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAS,WAAU;;;;;;0CACpB,8OAAC;gCAAS,WAAU"}},
    {"offset": {"line": 3472, "column": 0}, "map": {"version":3,"sources":["file:///c:/Users/ASUS/OneDrive/Documentos/Men%C3%BAs%20IA/src/components/diner/DinerClient.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useState, useMemo, useEffect, Suspense } from 'react';\r\nimport { MenuItem, Story, Category, RestaurantConfig } from '@/types';\r\nimport { useMenuFilter } from '@/hooks/useMenuFilter';\r\nimport { useCart } from '@/hooks/useCart';\r\nimport { useCreateOrder, menuItemToOrderItem } from '@/hooks/useCreateOrder';\r\nimport { generateWhatsAppLink } from '@/lib/utils/whatsapp';\r\n\r\n// Components\r\nimport { StoryRail } from '@/components/diner/StoryRail';\r\nimport { DishCard } from '@/components/diner/DishCard';\r\nimport { HeroSection } from '@/components/diner/HeroSection';\r\nimport { DinerHeader } from '@/components/diner/DinerHeader';\r\nimport { DinerNavbar } from '@/components/diner/DinerNavbar';\r\nimport { DinerFooter } from '@/components/diner/DinerFooter';\r\nimport { StoryViewer } from '@/components/diner/StoryViewer';\r\nimport { SectionRow } from '@/components/diner/SectionRow';\r\nimport { DishDetailModal } from '@/components/diner/DishDetailModal';\r\nimport { SelectionDock } from '@/components/diner/SelectionDock';\r\nimport { OrderSummaryModal } from '@/components/diner/OrderSummaryModal';\r\nimport { Toast } from '@/components/ui/Toast';\r\nimport { CardSkeleton } from '@/components/ui/Skeleton';\r\nimport { Modal } from '@/components/ui/Modal';\r\nimport { Clock, MapPin, Globe, BrainCircuit } from 'lucide-react';\r\n\r\n// Lazy Load ChatBot\r\nconst ChatBot = React.lazy(() => import('@/components/diner/ChatBot').then(module => ({ default: module.ChatBot })));\r\n\r\ninterface DinerClientProps {\r\n    config: RestaurantConfig;\r\n    menuItems: MenuItem[];\r\n    stories: Story[];\r\n    categories: Category[];\r\n}\r\n\r\nexport function DinerClient({ config, menuItems, stories, categories }: DinerClientProps) {\r\n    // State for UI interactions\r\n    const [selectedItem, setSelectedItem] = useState<MenuItem | null>(null);\r\n    const [viewingStoryId, setViewingStoryId] = useState<string | null>(null);\r\n    const [showInfo, setShowInfo] = useState(false);\r\n    const [showOrderSummary, setShowOrderSummary] = useState(false);\r\n    const [scrolled, setScrolled] = useState(false);\r\n\r\n    // Feedback State\r\n    const [toastVisible, setToastVisible] = useState(false);\r\n    const [toastMessage, setToastMessage] = useState('');\r\n\r\n    // Cart Logic (Refactored to Hook)\r\n    const { selection, addToCart, updateQuantity, removeFromCart, clearCart } = useCart();\r\n\r\n    // Order Creation Hook\r\n    const { order, loading: orderLoading, error: orderError, success: orderSuccess, createOrder, resetState } = useCreateOrder();\r\n\r\n    // Favorites State (Session Persistence)\r\n    const [likedItemIds, setLikedItemIds] = useState<Set<string>>(new Set());\r\n\r\n    // Recommendation State - Using local state without external service for now\r\n    const [recommendedItems, setRecommendedItems] = useState<MenuItem[]>([]);\r\n    const [isRecLoading, setIsRecLoading] = useState(false);\r\n\r\n    // Custom Hook for Logic\r\n    const {\r\n        selectedCategory,\r\n        setSelectedCategory,\r\n        searchQuery,\r\n        setSearchQuery,\r\n        filteredItems\r\n    } = useMenuFilter(menuItems);\r\n\r\n    // Scroll Effect\r\n    useEffect(() => {\r\n        const handleScroll = () => setScrolled(window.scrollY > 20);\r\n        window.addEventListener('scroll', handleScroll);\r\n        return () => window.removeEventListener('scroll', handleScroll);\r\n    }, []);\r\n\r\n    // Initialize Default Recommendations\r\n    useEffect(() => {\r\n        const defaultMix = menuItems.filter(i => i.new || i.popular).sort(() => 0.5 - Math.random()).slice(0, 4);\r\n        setRecommendedItems(defaultMix);\r\n    }, [menuItems]);\r\n\r\n    // Simple Recommendation Logic (without external API)\r\n    useEffect(() => {\r\n        if (selection.length > 0 && selection.length % 2 !== 0) {\r\n            setIsRecLoading(true);\r\n            const likedCategories = selection.map(i => i.category);\r\n            const recs = menuItems.filter(i =>\r\n                likedCategories.includes(i.category) &&\r\n                !selection.find(s => s.id === i.id)\r\n            ).slice(0, 4);\r\n\r\n            setTimeout(() => {\r\n                if (recs.length > 0) {\r\n                    setRecommendedItems(recs);\r\n                }\r\n                setIsRecLoading(false);\r\n            }, 800);\r\n        }\r\n    }, [selection, menuItems]);\r\n\r\n    // Handlers\r\n    const handleToggleLike = (itemId: string) => {\r\n        setLikedItemIds(prev => {\r\n            const next = new Set(prev);\r\n            if (next.has(itemId)) {\r\n                next.delete(itemId);\r\n            } else {\r\n                next.add(itemId);\r\n            }\r\n            return next;\r\n        });\r\n    };\r\n\r\n    const handleAddToSelection = (newItem: MenuItem) => {\r\n        addToCart(newItem);\r\n        setToastMessage(`${newItem.name} agregado`);\r\n        setToastVisible(true);\r\n    };\r\n\r\n    const handleConfirmOrder = async () => {\r\n        // Calcular total\r\n        const subtotal = selection.reduce((acc, item) => {\r\n            return acc + (item.finalPrice || (item.price * (item.quantity || 1)));\r\n        }, 0);\r\n        const tax = subtotal * 0.08; // 8% Impoconsumo\r\n        const total = subtotal + tax;\r\n\r\n        // Crear pedido en Supabase\r\n        const orderData = {\r\n            tenant_slug: config.slug,\r\n            customer_name: 'Cliente', // En producción, pedir nombre al cliente\r\n            items: selection.map(item => menuItemToOrderItem(item)),\r\n            total: total\r\n        };\r\n\r\n        const createdOrder = await createOrder(orderData);\r\n\r\n        if (createdOrder) {\r\n            // Éxito - limpiar carrito y mostrar confirmación\r\n            clearCart();\r\n            setToastMessage(`¡Pedido #${createdOrder.id.slice(0, 8)} confirmado!`);\r\n            setToastVisible(true);\r\n            setShowOrderSummary(false);\r\n        } else {\r\n            // Error - mostrar mensaje\r\n            setToastMessage(orderError || 'Error al crear pedido');\r\n            setToastVisible(true);\r\n        }\r\n    };\r\n\r\n    // Handler for Story CTA\r\n    const handleStoryAction = (linkedItemId: string) => {\r\n        const item = menuItems.find(i => i.id === linkedItemId);\r\n        if (item) {\r\n            setViewingStoryId(null);\r\n            setTimeout(() => setSelectedItem(item), 300);\r\n        }\r\n    };\r\n\r\n    // Derived Data for Sections\r\n    const popularItems = useMemo(() => menuItems.filter(i => i.popular), [menuItems]);\r\n    const chefItems = useMemo(() => menuItems.filter(i => i.chefChoice), [menuItems]);\r\n    const activeCategoryName = useMemo(() => categories.find(c => c.id === selectedCategory)?.name, [selectedCategory, categories]);\r\n\r\n    return (\r\n        <div className=\"min-h-screen relative text-gray-100 font-sans selection:bg-brand-primary selection:text-white\">\r\n\r\n            {/* --- NEXT-GEN GLASSMORPHISM BACKGROUND SYSTEM --- */}\r\n            <div className=\"fixed inset-0 z-0 overflow-hidden bg-[#030712]\">\r\n\r\n                {/* 1. Base Atmospheric Image */}\r\n                <div className=\"absolute inset-0\">\r\n                    <img\r\n                        src=\"https://images.unsplash.com/photo-1559339352-11d035aa65de?auto=format&fit=crop&w=2000&q=80\"\r\n                        className=\"w-full h-full object-cover opacity-60 blur-[2px] scale-105 transform transition-transform duration-[20s] hover:scale-110\"\r\n                        alt=\"Ambience\"\r\n                    />\r\n                </div>\r\n\r\n                {/* 2. Spotlight Gradient (Radial) */}\r\n                <div className=\"absolute inset-0 bg-[radial-gradient(circle_at_center,_transparent_0%,_rgba(3,7,18,0.5)_50%,_rgba(3,7,18,0.95)_100%)]\"></div>\r\n\r\n                {/* 3. Noise Texture (Film Grain) */}\r\n                <div className=\"absolute inset-0 bg-noise opacity-[0.05] mix-blend-overlay pointer-events-none\"></div>\r\n\r\n                {/* 4. Brand Ambient Glow */}\r\n                <div className=\"absolute -top-[10%] left-[20%] w-[60vw] h-[60vw] bg-brand-primary/10 rounded-full blur-[120px] mix-blend-screen animate-pulse duration-[5000ms]\"></div>\r\n\r\n            </div>\r\n\r\n            {/* --- MAIN CONTENT LAYER --- */}\r\n            <div className=\"relative z-10\">\r\n                <DinerHeader config={config} onOpenInfo={() => setShowInfo(true)} />\r\n\r\n                <DinerNavbar\r\n                    scrolled={scrolled}\r\n                    searchQuery={searchQuery}\r\n                    setSearchQuery={setSearchQuery}\r\n                    selectedCategory={selectedCategory}\r\n                    setSelectedCategory={setSelectedCategory}\r\n                />\r\n\r\n                <main className=\"pt-2\">\r\n\r\n                    {/* 1. STORIES with Info Handler */}\r\n                    {!searchQuery && selectedCategory === 'all' && (\r\n                        <section className=\"pl-1 animate-fade-in\">\r\n                            <StoryRail\r\n                                stories={stories}\r\n                                onViewStory={(story) => setViewingStoryId(story.id)}\r\n                                onOpenBrand={() => setShowInfo(true)}\r\n                            />\r\n                        </section>\r\n                    )}\r\n\r\n                    {/* 2. HERO DISH */}\r\n                    {!searchQuery && selectedCategory === 'all' && menuItems.length > 0 && (\r\n                        <HeroSection item={menuItems[0]} onClick={setSelectedItem} />\r\n                    )}\r\n\r\n                    {/* 3. SEARCH RESULTS */}\r\n                    {searchQuery && (\r\n                        <section className=\"px-6 animate-fade-in pt-4 pb-20\">\r\n                            <h2 className=\"text-sm font-light text-gray-400 mb-8 uppercase tracking-[0.2em]\">Resultados para \"{searchQuery}\"</h2>\r\n                            <div className=\"grid grid-cols-1 gap-6\">\r\n                                {filteredItems.map(item => (\r\n                                    <DishCard\r\n                                        key={item.id}\r\n                                        item={item}\r\n                                        onClick={setSelectedItem}\r\n                                        onAdd={handleAddToSelection}\r\n                                        layout=\"horizontal\"\r\n                                        currency={config.currency}\r\n                                    />\r\n                                ))}\r\n                                {filteredItems.length === 0 && (\r\n                                    <div className=\"text-center py-12 opacity-50\">\r\n                                        <p className=\"font-serif italic text-xl\">Sin resultados</p>\r\n                                        <p className=\"text-xs mt-2 uppercase tracking-widest\">Intenta otra búsqueda</p>\r\n                                    </div>\r\n                                )}\r\n                            </div>\r\n                        </section>\r\n                    )}\r\n\r\n                    {/* 4. DEFAULT HOME VIEW */}\r\n                    {!searchQuery && selectedCategory === 'all' && (\r\n                        <div className=\"space-y-8 animate-fade-in\">\r\n\r\n                            {/* Personalization Section \"Para Ti\" */}\r\n                            <div className=\"relative border-b border-white/5 pb-2\">\r\n                                <div className=\"px-6 flex justify-between items-end mb-4\">\r\n                                    <div className=\"flex items-center gap-2\">\r\n                                        <h2 className=\"text-3xl font-serif italic text-white/90\">Para ti</h2>\r\n                                        {isRecLoading && <BrainCircuit size={14} className=\"text-brand-primary animate-pulse\" />}\r\n                                    </div>\r\n                                    <span className=\"text-[9px] font-bold text-gray-500 uppercase tracking-[0.2em]\">\r\n                                        {isRecLoading ? 'Personalizando...' : 'Basado en tu gusto'}\r\n                                    </span>\r\n                                </div>\r\n\r\n                                <div className=\"px-6 grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                                    {isRecLoading ? (\r\n                                        <>\r\n                                            <CardSkeleton />\r\n                                            <CardSkeleton />\r\n                                        </>\r\n                                    ) : (\r\n                                        recommendedItems.slice(0, 4).map(item => (\r\n                                            <DishCard\r\n                                                key={`rec-${item.id}`}\r\n                                                item={item}\r\n                                                onClick={setSelectedItem}\r\n                                                onAdd={handleAddToSelection}\r\n                                                layout=\"horizontal\"\r\n                                                currency={config.currency}\r\n                                            />\r\n                                        ))\r\n                                    )}\r\n                                </div>\r\n                            </div>\r\n\r\n                            <SectionRow title=\"Tendencias\" items={popularItems} onItemClick={setSelectedItem} currency={config.currency} />\r\n                            <SectionRow title=\"Selección del Chef\" items={chefItems} onItemClick={setSelectedItem} currency={config.currency} />\r\n\r\n                            <section className=\"px-6 pb-8\">\r\n                                <div className=\"flex items-center justify-center mb-16 mt-12\">\r\n                                    <div className=\"h-px bg-white/5 w-full\"></div>\r\n                                    <span className=\"shrink-0 px-6 text-[10px] font-bold tracking-[0.4em] text-gray-600 uppercase\">La Colección</span>\r\n                                    <div className=\"h-px bg-white/5 w-full\"></div>\r\n                                </div>\r\n                                <div className=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-x-5 gap-y-12\">\r\n                                    {menuItems.map(item => (\r\n                                        <DishCard key={item.id} item={item} onClick={setSelectedItem} layout=\"vertical\" className=\"w-full\" currency={config.currency} />\r\n                                    ))}\r\n                                </div>\r\n                            </section>\r\n\r\n                            <DinerFooter />\r\n                        </div>\r\n                    )}\r\n\r\n                    {/* 5. CATEGORY FILTERED VIEW */}\r\n                    {!searchQuery && selectedCategory !== 'all' && (\r\n                        <section className=\"px-6 animate-fade-in pb-20\">\r\n                            <div className=\"py-12 text-center\">\r\n                                <h2 className=\"text-5xl font-serif italic text-white capitalize tracking-tight mb-3\">{activeCategoryName}</h2>\r\n                                <p className=\"text-[10px] text-gray-500 uppercase tracking-[0.4em]\">Selección Curada</p>\r\n                            </div>\r\n                            <div className=\"grid grid-cols-1 gap-4\">\r\n                                {filteredItems.map(item => (\r\n                                    <DishCard\r\n                                        key={item.id}\r\n                                        item={item}\r\n                                        onClick={setSelectedItem}\r\n                                        onAdd={handleAddToSelection}\r\n                                        layout=\"horizontal\"\r\n                                        currency={config.currency}\r\n                                    />\r\n                                ))}\r\n                            </div>\r\n                            <DinerFooter />\r\n                        </section>\r\n                    )}\r\n                </main>\r\n            </div>\r\n\r\n            {/* 3. OVERLAYS */}\r\n            <Toast\r\n                message={toastMessage}\r\n                isVisible={toastVisible}\r\n                onClose={() => setToastVisible(false)}\r\n            />\r\n\r\n            {/* UX IMPROVEMENT: Hide Selection Dock if Summary Modal is active */}\r\n            {!showOrderSummary && (\r\n                <SelectionDock\r\n                    selection={selection}\r\n                    onViewOrder={() => setShowOrderSummary(true)}\r\n                    currency={config.currency}\r\n                />\r\n            )}\r\n\r\n            <Suspense fallback={null}>\r\n                <ChatBot\r\n                    searchQuery={searchQuery}\r\n                    activeCategory={selectedCategory}\r\n                />\r\n            </Suspense>\r\n\r\n            <DishDetailModal\r\n                item={selectedItem}\r\n                menuItems={menuItems}\r\n                onClose={() => setSelectedItem(null)}\r\n                onAdd={handleAddToSelection}\r\n                isLiked={selectedItem ? likedItemIds.has(selectedItem.id) : false}\r\n                onToggleLike={() => selectedItem && handleToggleLike(selectedItem.id)}\r\n                currency={config.currency}\r\n            />\r\n\r\n            <OrderSummaryModal\r\n                isOpen={showOrderSummary}\r\n                onClose={() => setShowOrderSummary(false)}\r\n                selection={selection}\r\n                onUpdateQuantity={updateQuantity}\r\n                onRemoveItem={removeFromCart}\r\n                onConfirmOrder={handleConfirmOrder}\r\n                currencySymbol={config.currency}\r\n                isLoading={orderLoading}\r\n            />\r\n\r\n            <Modal isOpen={showInfo} onClose={() => setShowInfo(false)} title=\"Sobre la Casa\">\r\n                <div className=\"p-6\">\r\n                    <div className=\"text-center mb-8\">\r\n                        <div className=\"w-20 h-20 bg-brand-primary/10 rounded-full flex items-center justify-center mx-auto mb-4 border border-brand-primary/20 shadow-[0_0_30px_rgba(var(--color-brand-primary),0.2)]\">\r\n                            {config.logo ? <img src={config.logo} className=\"w-full h-full object-cover rounded-full\" alt=\"\" /> : <span className=\"font-serif text-3xl italic text-brand-primary font-bold\">{config.name.charAt(0)}</span>}\r\n                        </div>\r\n                        <h2 className=\"text-3xl font-serif text-white mb-2 italic\">{config.name}</h2>\r\n                        <p className=\"text-xs text-gray-400 uppercase tracking-widest\">{config.tagline}</p>\r\n                    </div>\r\n\r\n                    <div className=\"space-y-4 bg-white/5 rounded-2xl p-6 border border-white/5\">\r\n                        <div className=\"flex items-center gap-4 text-sm text-gray-300\">\r\n                            <div className=\"w-8 h-8 rounded-full bg-white/10 flex items-center justify-center shrink-0\">\r\n                                <Clock size={14} />\r\n                            </div>\r\n                            <div>\r\n                                <p className=\"text-[10px] font-bold text-gray-500 uppercase tracking-wider\">Horario</p>\r\n                                <p>Abierto • Cierra a las 11:00 PM</p>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"h-px bg-white/5 w-full\"></div>\r\n                        <div className=\"flex items-center gap-4 text-sm text-gray-300\">\r\n                            <div className=\"w-8 h-8 rounded-full bg-white/10 flex items-center justify-center shrink-0\">\r\n                                <MapPin size={14} />\r\n                            </div>\r\n                            <div>\r\n                                <p className=\"text-[10px] font-bold text-gray-500 uppercase tracking-wider\">Ubicación</p>\r\n                                <p>Calle Principal 123, Zona Gourmet</p>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"h-px bg-white/5 w-full\"></div>\r\n                        <div className=\"flex items-center gap-4 text-sm text-gray-300\">\r\n                            <div className=\"w-8 h-8 rounded-full bg-white/10 flex items-center justify-center shrink-0\">\r\n                                <Globe size={14} />\r\n                            </div>\r\n                            <div>\r\n                                <p className=\"text-[10px] font-bold text-gray-500 uppercase tracking-wider\">Sitio Web</p>\r\n                                <p className=\"text-brand-primary underline cursor-pointer\">www.menuos.com</p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"mt-8 text-center\">\r\n                        <p className=\"text-xs text-gray-500 italic font-serif leading-relaxed px-4\">\r\n                            \"Una experiencia culinaria diseñada para deleitar los sentidos, fusionando tradición e innovación en cada plato.\"\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n            </Modal>\r\n\r\n            {viewingStoryId && (\r\n                <StoryViewer\r\n                    stories={stories}\r\n                    initialStoryId={viewingStoryId}\r\n                    onClose={() => setViewingStoryId(null)}\r\n                    onAction={handleStoryAction}\r\n                />\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}