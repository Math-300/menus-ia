{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///c:/Users/ASUS/OneDrive/Documentos/Men%C3%BAs%20IA/src/components/admin/AdminSidebar.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React, { useMemo, useState } from 'react';\r\nimport {\r\n    LayoutDashboard,\r\n    Image as ImageIcon,\r\n    TrendingUp,\r\n    LogOut,\r\n    Menu as MenuIcon,\r\n    X,\r\n    CreditCard,\r\n    CheckCircle,\r\n    UtensilsCrossed,\r\n    Camera,\r\n    ShoppingBag,\r\n    Palette,\r\n    Settings,\r\n    ChevronDown,\r\n    ChevronRight,\r\n    FolderOpen,\r\n    FileText\r\n} from 'lucide-react';\r\nimport { createBrowserClient } from '@supabase/ssr';\r\nimport { useRouter, usePathname } from 'next/navigation';\r\n\r\ninterface AdminSidebarProps {\r\n    mobileMenuOpen: boolean;\r\n    setMobileMenuOpen: (open: boolean) => void;\r\n    hasApiKey: boolean;\r\n    onConnectBilling: () => void;\r\n}\r\n\r\ninterface NavItem {\r\n    name: string;\r\n    href: string;\r\n    icon: React.ReactNode;\r\n    children?: { name: string; href: string }[];\r\n}\r\n\r\nexport const AdminSidebar: React.FC<AdminSidebarProps> = ({\r\n    mobileMenuOpen,\r\n    setMobileMenuOpen,\r\n    hasApiKey,\r\n    onConnectBilling\r\n}) => {\r\n    const router = useRouter();\r\n    const pathname = usePathname();\r\n    const [expandedMenu, setExpandedMenu] = useState<string | null>('menu');\r\n\r\n    const supabase = useMemo(() => {\r\n        if (typeof window === \"undefined\") return null;\r\n        return createBrowserClient(\r\n            process.env.NEXT_PUBLIC_SUPABASE_URL!,\r\n            process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!\r\n        );\r\n    }, []);\r\n\r\n    const handleLogout = async () => {\r\n        if (!supabase) return;\r\n        await supabase.auth.signOut();\r\n        router.push('/login');\r\n        router.refresh();\r\n    };\r\n\r\n    const navItems: NavItem[] = [\r\n        {\r\n            name: 'Dashboard',\r\n            href: '/admin',\r\n            icon: <LayoutDashboard size={20} />,\r\n        },\r\n        {\r\n            name: 'Menú',\r\n            href: '/admin/menu',\r\n            icon: <UtensilsCrossed size={20} />,\r\n            children: [\r\n                { name: 'Categorías', href: '/admin/menu?tab=categories' },\r\n                { name: 'Platos', href: '/admin/menu?tab=dishes' },\r\n            ],\r\n        },\r\n        {\r\n            name: 'Stories',\r\n            href: '/admin/stories',\r\n            icon: <Camera size={20} />,\r\n        },\r\n        {\r\n            name: 'Pedidos',\r\n            href: '/admin/orders',\r\n            icon: <ShoppingBag size={20} />,\r\n        },\r\n        {\r\n            name: 'Branding',\r\n            href: '/admin/branding',\r\n            icon: <Palette size={20} />,\r\n        },\r\n        {\r\n            name: 'Configuración',\r\n            href: '/admin/settings',\r\n            icon: <Settings size={20} />,\r\n        },\r\n    ];\r\n\r\n    const isActive = (href: string) => {\r\n        if (href === '/admin') {\r\n            return pathname === '/admin';\r\n        }\r\n        return pathname.startsWith(href);\r\n    };\r\n\r\n    const toggleMenu = (name: string) => {\r\n        setExpandedMenu(expandedMenu === name ? null : name);\r\n    };\r\n\r\n    const NavLink: React.FC<{ item: NavItem }> = ({ item }) => {\r\n        const active = isActive(item.href);\r\n        const hasChildren = item.children && item.children.length > 0;\r\n        const isExpanded = expandedMenu === item.name;\r\n\r\n        if (hasChildren) {\r\n            return (\r\n                <div className=\"space-y-1\">\r\n                    <button\r\n                        onClick={() => toggleMenu(item.name)}\r\n                        className={`w-full flex items-center justify-between space-x-3 p-3 rounded-xl transition-colors ${active\r\n                            ? 'bg-brand-primary/20 text-brand-primary border border-brand-primary/30 shadow-[0_0_10px_rgba(249,65,68,0.2)]'\r\n                            : 'text-gray-400 hover:text-white hover:bg-white/5'\r\n                            }`}\r\n                    >\r\n                        <div className=\"flex items-center space-x-3\">\r\n                            {item.icon}\r\n                            <span className=\"font-medium\">{item.name}</span>\r\n                        </div>\r\n                        {isExpanded ? <ChevronDown size={16} /> : <ChevronRight size={16} />}\r\n                    </button>\r\n                    {isExpanded && (\r\n                        <div className=\"ml-4 pl-4 border-l border-white/10 space-y-1\">\r\n                            {item.children!.map((child) => (\r\n                                <a\r\n                                    key={child.href}\r\n                                    href={child.href}\r\n                                    className={`flex items-center space-x-2 p-2 rounded-lg text-sm transition-colors ${pathname === child.href\r\n                                        ? 'text-brand-primary bg-brand-primary/10'\r\n                                        : 'text-gray-500 hover:text-white hover:bg-white/5'\r\n                                        }`}\r\n                                >\r\n                                    <span>{child.name}</span>\r\n                                </a>\r\n                            ))}\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            );\r\n        }\r\n\r\n        return (\r\n            <a\r\n                href={item.href}\r\n                className={`flex items-center space-x-3 p-3 rounded-xl font-medium transition-all ${active\r\n                    ? 'bg-brand-primary/20 text-brand-primary border border-brand-primary/30 shadow-[0_0_10px_rgba(249,65,68,0.2)]'\r\n                    : 'text-gray-400 hover:text-white hover:bg-white/5'\r\n                    }`}\r\n            >\r\n                {item.icon}\r\n                <span>{item.name}</span>\r\n            </a>\r\n        );\r\n    };\r\n\r\n    return (\r\n        <>\r\n            {/* MOBILE HEADER */}\r\n            <div className=\"md:hidden fixed top-0 left-0 right-0 h-16 bg-black/50 backdrop-blur-xl border-b border-white/10 flex items-center justify-between px-4 z-50\">\r\n                <div className=\"flex items-center gap-2\">\r\n                    <div className=\"w-8 h-8 bg-brand-primary rounded-lg flex items-center justify-center font-bold text-white font-serif italic\">M</div>\r\n                    <span className=\"font-serif font-bold text-lg\">MenuOS</span>\r\n                </div>\r\n                <button onClick={() => setMobileMenuOpen(true)} className=\"p-2 text-gray-300\">\r\n                    <MenuIcon />\r\n                </button>\r\n            </div>\r\n\r\n            {/* SIDEBAR */}\r\n            <aside className={`\r\n                fixed inset-y-0 left-0 z-50 w-72 bg-black/80 backdrop-blur-xl border-r border-white/10 flex flex-col transition-transform duration-300\r\n                ${mobileMenuOpen ? 'translate-x-0' : '-translate-x-full md:translate-x-0'}\r\n                md:relative\r\n            `}>\r\n                <div className=\"p-6 border-b border-white/10 flex justify-between items-center\">\r\n                    <div className=\"flex items-center gap-3\">\r\n                        <div className=\"w-9 h-9 bg-brand-primary rounded-xl flex items-center justify-center font-bold text-white shadow-[0_0_15px_rgba(249,65,68,0.5)] font-serif italic text-xl\">M</div>\r\n                        <div>\r\n                            <h1 className=\"text-xl font-serif font-bold tracking-tight text-white leading-none\">MenuOS</h1>\r\n                            <span className=\"text-xs text-gray-400 font-medium tracking-widest uppercase\">Panel de Control</span>\r\n                        </div>\r\n                    </div>\r\n                    <button onClick={() => setMobileMenuOpen(false)} className=\"md:hidden text-gray-400\"><X /></button>\r\n                </div>\r\n\r\n                <nav className=\"flex-1 px-4 py-8 space-y-2 overflow-y-auto\">\r\n                    <div className=\"px-3 py-2 text-[10px] font-bold text-gray-500 uppercase tracking-widest\">Navegación</div>\r\n                    {navItems.map((item) => (\r\n                        <NavLink key={item.name} item={item} />\r\n                    ))}\r\n\r\n                    <div className=\"mt-8 px-3 py-2 text-[10px] font-bold text-gray-500 uppercase tracking-widest\">Sistema</div>\r\n                    {!hasApiKey ? (\r\n                        <button onClick={onConnectBilling} className=\"w-full flex items-center space-x-3 text-yellow-500 hover:text-yellow-400 bg-yellow-500/10 hover:bg-yellow-500/20 border border-yellow-500/30 p-3 rounded-xl transition-colors text-left animate-pulse\">\r\n                            <CreditCard size={20} />\r\n                            <span className=\"text-sm font-bold\">Conectar Facturación</span>\r\n                        </button>\r\n                    ) : (\r\n                        <div className=\"w-full flex items-center space-x-3 text-green-500 bg-green-500/10 border border-green-500/20 p-3 rounded-xl\">\r\n                            <CheckCircle size={20} />\r\n                            <span className=\"text-sm font-bold\">Facturación Activa</span>\r\n                        </div>\r\n                    )}\r\n                </nav>\r\n\r\n                <div className=\"p-4 border-t border-white/10 bg-black/40\">\r\n                    <div className=\"flex items-center gap-3 mb-4\">\r\n                        <div className=\"w-8 h-8 rounded-full bg-gradient-to-tr from-purple-500 to-blue-500\"></div>\r\n                        <div>\r\n                            <div className=\"text-sm font-bold text-white\">Chef Admin</div>\r\n                            <div className=\"text-xs text-gray-400\">admin@menuos.com</div>\r\n                        </div>\r\n                    </div>\r\n                    <button onClick={handleLogout} className=\"flex items-center space-x-3 text-gray-400 hover:text-red-400 w-full p-2 rounded-lg hover:bg-white/5 transition-colors text-sm\">\r\n                        <LogOut size={16} />\r\n                        <span>Cerrar Sesión</span>\r\n                    </button>\r\n                </div>\r\n            </aside>\r\n\r\n            {/* Mobile overlay */}\r\n            {mobileMenuOpen && (\r\n                <div\r\n                    className=\"fixed inset-0 bg-black/50 z-40 md:hidden\"\r\n                    onClick={() => setMobileMenuOpen(false)}\r\n                />\r\n            )}\r\n        </>\r\n    );\r\n};\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 541, "column": 0}, "map": {"version":3,"sources":["file:///c:/Users/ASUS/OneDrive/Documentos/Men%C3%BAs%20IA/src/app/admin/layout.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState } from \"react\";\r\nimport { AdminSidebar } from \"@/components/admin/AdminSidebar\";\r\n\r\nexport default function AdminLayout({\r\n    children,\r\n}: {\r\n    children: React.ReactNode;\r\n}) {\r\n    const [mobileMenuOpen, setMobileMenuOpen] = useState(false);\r\n    const [hasApiKey, setHasApiKey] = useState(false);\r\n\r\n    const handleConnectBilling = async () => {\r\n        // Placeholder for billing connection\r\n        // Will be implemented when Supabase is configured\r\n        setHasApiKey(true);\r\n    };\r\n\r\n    return (\r\n        <div className=\"flex min-h-screen\">\r\n            <AdminSidebar\r\n                mobileMenuOpen={mobileMenuOpen}\r\n                setMobileMenuOpen={setMobileMenuOpen}\r\n                hasApiKey={hasApiKey}\r\n                onConnectBilling={handleConnectBilling}\r\n            />\r\n            <main className=\"flex-1 p-6 bg-gray-900\">\r\n                {children}\r\n            </main>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAKe,SAAS,YAAY,EAChC,QAAQ,EAGX;IACG,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,iNAAQ,EAAC;IACrD,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAC;IAE3C,MAAM,uBAAuB;QACzB,qCAAqC;QACrC,kDAAkD;QAClD,aAAa;IACjB;IAEA,qBACI,8OAAC;QAAI,WAAU;;0BACX,8OAAC,2JAAY;gBACT,gBAAgB;gBAChB,mBAAmB;gBACnB,WAAW;gBACX,kBAAkB;;;;;;0BAEtB,8OAAC;gBAAK,WAAU;0BACX;;;;;;;;;;;;AAIjB"}}]
}